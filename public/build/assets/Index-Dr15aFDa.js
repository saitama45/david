import{G as w,T as V,r as n,o as c,c as W,w as t,a as e,b as a,d as X,e as j,g as D,t as s,F as z,u as d,i as q}from"./app-p8ycGfai.js";const J=["onClick"],Y={__name:"Index",props:{templates:Object},setup(r){const T=w(),m=ref(!1);console.log(r.templates);const u=V({file:null,file_name:null}),_=ref(!1),I=f=>{m.value=!0,u.file_name=f},R=()=>{_.value=!0,u.post(route("templates.store"),{onSuccess:()=>{m.value=!1,u.reset(),T.add({severity:"success",summary:"Success",detail:"Updated Successfully.",life:3e3})},onError:f=>{T.add({severity:"error",summary:"Success",detail:"An error occured while trying to updated the template.",life:3e3})},onFinish:()=>{_.value=!1}})},g=[{template:"GSI ORDER",name:"GSI ORDER TEMPLATE",file_name:"gsi_order_template.xlsx"},{template:"GSI OT ORDER",name:"GSI OT ORDER TEMPLATE",file_name:"gsi_ot_order_template.xlsx"},{template:"PUL ORDER",name:"PUL ORDER TEMPLATE",file_name:"pul_order_template.xlsx"},{template:"FRUITS AND VEGGIES (SOUTH) ORDER",name:"FRUITS AND VEGGIES (SOUTH) ORDER TEMPLATE",file_name:"fruits-and-vegetables-south-template.xlsx"},{template:"FRUITS AND VEGGIES (MM) ORDER",name:"FRUITS AND VEGGIES (MM) ORDER TEMPLATE",file_name:"fruits-and-vegetables-mm-template.xlsx"},{template:"WIP",name:"WIP TEMPLATE",file_name:"wip_list_template.xlsx"},{template:"WIP INGREDIENTS TEMPLATE",name:"WIP INGREDIENTS TEMPLATE",file_name:"wip_ingredients_template.xlsx"},{template:"BOM",name:"BOM TEMPLATE",file_name:"bom_list_template.xlsx"},{template:"BOM INGREDIENTS TEMPLATE",name:"BOM INGREDIENTS TEMPLATE",file_name:"bom_ingredients_template.xlsx"}];return(f,l)=>{const p=n("TH"),x=n("TableHead"),i=n("TD"),S=n("Pencil"),L=n("TableBody"),M=n("Table"),O=n("TableContainer"),b=n("DialogTitle"),N=n("DialogDescription"),P=n("DialogHeader"),A=n("LabelXS"),G=n("Input"),U=n("FormError"),y=n("InputContainer"),B=n("Button"),F=n("DialogFooter"),C=n("DialogContent"),v=n("Dialog"),H=n("Layout");return c(),W(H,{heading:"Templates"},{default:t(()=>[e(O,null,{default:t(()=>[e(M,null,{default:t(()=>[e(x,null,{default:t(()=>[e(p,null,{default:t(()=>l[2]||(l[2]=[a("Template")])),_:1}),e(p,null,{default:t(()=>l[3]||(l[3]=[a("Name")])),_:1}),e(p,null,{default:t(()=>l[4]||(l[4]=[a("Last Updated By")])),_:1}),e(p,null,{default:t(()=>l[5]||(l[5]=[a("Last Updated Date")])),_:1}),e(p,null,{default:t(()=>l[6]||(l[6]=[a("Actions")])),_:1})]),_:1}),e(L,null,{default:t(()=>[(c(),X(z,null,j(g,(o,k)=>D("tr",{key:k},[e(i,null,{default:t(()=>[a(s(o.template),1)]),_:2},1024),e(i,null,{default:t(()=>[a(s(o.name),1)]),_:2},1024),e(i,null,{default:t(()=>[a(s(r.templates[o.file_name]?r.templates[o.file_name].user:"N/a"),1)]),_:2},1024),e(i,null,{default:t(()=>{var E;return[a(s(((E=r.templates[o.file_name])==null?void 0:E.updated_at)??"N/a"),1)]}),_:2},1024),e(i,null,{default:t(()=>[D("button",{onClick:()=>I(o.file_name)},[e(S,{class:"size-5"})],8,J)]),_:2},1024)])),64))]),_:1})]),_:1})]),_:1}),e(v,{open:d(m),"onUpdate:open":l[1]||(l[1]=o=>q(m)?m.value=o:null)},{default:t(()=>[e(C,{class:"sm:max-w-[425px]"},{default:t(()=>[e(P,null,{default:t(()=>[e(b,null,{default:t(()=>l[7]||(l[7]=[a("Update Template")])),_:1}),e(N,null,{default:t(()=>l[8]||(l[8]=[a(" Input all important fields. ")])),_:1})]),_:1}),e(y,null,{default:t(()=>[e(A,null,{default:t(()=>l[9]||(l[9]=[a("New File")])),_:1}),e(G,{onInput:l[0]||(l[0]=o=>d(u).file=o.target.files[0]),type:"file"}),e(U,null,{default:t(()=>[a(s(d(u).errors.file),1)]),_:1})]),_:1}),e(F,null,{default:t(()=>[e(B,{disabled:d(_),onClick:R},{default:t(()=>[a(s(d(_)?"Updating...":"Update"),1)]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["open"])]),_:1})}}};export{Y as default};
