import{u as G}from"./useSearch-BA-540Ma.js";import{x as Q,Q as J,y as K,N as S,l as W,r,o as c,c as _,w as e,a as t,n as u,b as n,t as o,u as w,i as Y,h as C,d as E,e as D,F as I}from"./app-DZB5krWT.js";import{u as Z}from"./useAuth-D0qVILHh.js";import"./lodash-gd7BEsaJ.js";const ae={__name:"Index",props:{orders:{type:Object,required:!0},counts:{type:Object,required:!0}},setup(m){let v=Q(J().props.filters.currentFilter||"all");const{search:x}=G("orders-receiving.index");K([v,x],([s,l])=>{S.get(route("orders-receiving.index"),{currentFilter:s,search:l},{preserveState:!0,replace:!0})});const y=s=>{v.value=s},d=s=>v.value===s?"bg-primary text-white":"",M=s=>{switch(s.toUpperCase()){case"RECEIVED":return"bg-green-500 text-white";case"PENDING":return"bg-yellow-500 text-white";case"INCOMPLETE":return"bg-orange-500 text-white";case"COMMITED":return"bg-blue-400 text-white";default:return"bg-gray-500 text-white"}},k=s=>{S.get(`/orders-receiving/show/${s}`)},{hasAccess:T}=Z(),N=W(()=>route("orders-receiving.export",{search:x.value,currentFilter:v.value}));return(s,l)=>{const f=r("Badge"),g=r("Button"),O=r("FilterTab"),h=r("Input"),R=r("SearchBar"),F=r("TableHeader"),i=r("TH"),L=r("TableHead"),p=r("TD"),H=r("Eye"),V=r("TableBody"),A=r("Table"),$=r("ShowButton"),P=r("MobileTableHeading"),B=r("LabelXS"),U=r("MobileTableRow"),j=r("MobileTableContainer"),q=r("Pagination"),X=r("TableContainer"),z=r("Layout");return c(),_(z,{heading:"Inbound Orders",hasExcelDownload:!0,exportRoute:N.value},{default:e(()=>[t(O,null,{default:e(()=>[t(g,{class:u(["sm:px-10 px-3 bg-white/10 text-gray-800 hover:text-white gap-5 sm:text-sm text-xs",d("all")]),onClick:l[0]||(l[0]=a=>y("all"))},{default:e(()=>[l[5]||(l[5]=n("ALL ")),t(f,{class:u(["sm:flex hidden border border-gray bg-transparent text-gray-900 px-2",d("all")])},{default:e(()=>[n(o(m.counts.all),1)]),_:1},8,["class"])]),_:1},8,["class"]),t(g,{class:u(["sm:px-10 px-3 bg-white/10 text-gray-800 hover:text-white gap-5 sm:text-sm text-xs",d("received")]),onClick:l[1]||(l[1]=a=>y("received"))},{default:e(()=>[l[6]||(l[6]=n("RECEIVED ")),t(f,{class:u(["sm:flex hidden border border-gray bg-transparent text-gray-900 px-2",d("received")])},{default:e(()=>[n(o(m.counts.received),1)]),_:1},8,["class"])]),_:1},8,["class"]),t(g,{class:u(["sm:px-10 px-3 bg-white/10 text-gray-800 hover:text-white gap-5 sm:text-sm text-xs",d("incomplete")]),onClick:l[2]||(l[2]=a=>y("incomplete"))},{default:e(()=>[l[7]||(l[7]=n("INCOMPLETE ")),t(f,{class:u(["sm:flex hidden border border-gray bg-transparent text-gray-900 px-2",d("incomplete")])},{default:e(()=>[n(o(m.counts.incomplete),1)]),_:1},8,["class"])]),_:1},8,["class"]),t(g,{class:u(["sm:px-10 px-3 bg-white/10 text-gray-800 hover:text-white gap-5 sm:text-sm text-xs",d("commited")]),onClick:l[3]||(l[3]=a=>y("commited"))},{default:e(()=>[l[8]||(l[8]=n("COMMITED ")),t(f,{class:u(["sm:flex hidden border border-gray bg-transparent text-gray-900 px-2",d("commited")])},{default:e(()=>[n(o(m.counts.commited),1)]),_:1},8,["class"])]),_:1},8,["class"])]),_:1}),t(X,null,{default:e(()=>[t(F,null,{default:e(()=>[t(R,null,{default:e(()=>[t(h,{class:"pl-10",modelValue:w(x),"onUpdate:modelValue":l[4]||(l[4]=a=>Y(x)?x.value=a:null),placeholder:"Search..."},null,8,["modelValue"])]),_:1})]),_:1}),t(A,null,{default:e(()=>[t(L,null,{default:e(()=>[t(i,null,{default:e(()=>l[9]||(l[9]=[n("Id")])),_:1}),t(i,null,{default:e(()=>l[10]||(l[10]=[n("Supplier")])),_:1}),t(i,null,{default:e(()=>l[11]||(l[11]=[n("Store")])),_:1}),t(i,null,{default:e(()=>l[12]||(l[12]=[n("Order #")])),_:1}),t(i,null,{default:e(()=>l[13]||(l[13]=[n("Order Date")])),_:1}),t(i,null,{default:e(()=>l[14]||(l[14]=[n("Order Placed Date")])),_:1}),t(i,null,{default:e(()=>l[15]||(l[15]=[n("Receiving Status")])),_:1}),w(T)("view approved order")?(c(),_(i,{key:0},{default:e(()=>l[16]||(l[16]=[n("Actions")])),_:1})):C("",!0)]),_:1}),t(V,null,{default:e(()=>[(c(!0),E(I,null,D(m.orders.data,a=>(c(),E("tr",{key:a.id},[t(p,null,{default:e(()=>[n(o(a.id),1)]),_:2},1024),t(p,null,{default:e(()=>{var b;return[n(o(((b=a.supplier)==null?void 0:b.name)??"N/A"),1)]}),_:2},1024),t(p,null,{default:e(()=>{var b;return[n(o(((b=a.store_branch)==null?void 0:b.name)??"N/A"),1)]}),_:2},1024),t(p,null,{default:e(()=>[n(o(a.order_number),1)]),_:2},1024),t(p,null,{default:e(()=>[n(o(a.order_date),1)]),_:2},1024),t(p,null,{default:e(()=>[n(o(a.created_at),1)]),_:2},1024),t(p,null,{default:e(()=>[t(f,{class:u([M(a.order_status),"font-bold"])},{default:e(()=>[n(o(a.order_status.toUpperCase().replace("_"," ")),1)]),_:2},1032,["class"])]),_:2},1024),t(p,null,{default:e(()=>[w(T)("view approved order")?(c(),_(g,{key:0,variant:"outline",onClick:b=>k(a.order_number)},{default:e(()=>[t(H)]),_:2},1032,["onClick"])):C("",!0)]),_:2},1024)]))),128))]),_:1})]),_:1}),t(j,null,{default:e(()=>[(c(!0),E(I,null,D(m.orders.data,a=>(c(),_(U,{key:a.id},{default:e(()=>[t(P,{title:a.order_number},{default:e(()=>[w(T)("view approved order")?(c(),_($,{key:0,onClick:b=>k(a.order_number)},null,8,["onClick"])):C("",!0)]),_:2},1032,["title"]),t(B,null,{default:e(()=>[n("Receiving Status: "+o(a.order_status.toUpperCase()),1)]),_:2},1024),t(B,null,{default:e(()=>[n("Order Date: "+o(a.order_date),1)]),_:2},1024)]),_:2},1024))),128))]),_:1}),t(q,{data:m.orders},null,8,["data"])]),_:1})]),_:1},8,["exportRoute"])}}};export{ae as default};
