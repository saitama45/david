import{f as re,G as ue,T as ie,r as l,o as i,c as k,w as o,a as e,u as a,i as v,b as s,d as x,e as U,t as d,F as E,g as c,h as de,N as me}from"./app-Drfr7wPO.js";import{u as ce}from"./useSearch-DbS36i7w.js";import{u as pe}from"./useReferenceStore-BuVzO9V4.js";import"./lodash-IPPPM5x9.js";const fe={class:"space-y-5"},_e={class:"flex flex-col space-y-1"},Ce={class:"flex flex-col space-y-1"},be={class:"flex justify-end"},ve={__name:"Index",props:{items:{type:Object,required:!0}},setup(p){const H=re(),m=ref(!1),g=ue(),D=ref(!1),r=ie({name:null,remarks:null}),M=ref(null),w=p,{search:f}=ce("unit-of-measurements.index"),I=()=>{r.post(route("unit-of-measurements.update",M.value),{preserveScroll:!0,onSuccess:()=>{g.add({severity:"success",summary:"Success",detail:"UOM Details Updated Successfully.",life:5e3}),r.reset(),m.value=!1}})},V=u=>{M.value=u,m.value=!0;const t=w.items.data.find(_=>_.id===u);r.name=t.name,r.remarks=t.remarks},S=u=>{H.require({message:"Are you sure you want to delete this uom?",header:"Confirmation",icon:"pi pi-exclamation-triangle",rejectProps:{label:"Cancel",severity:"secondary",outlined:!0},acceptProps:{label:"Confirm",severity:"danger"},accept:()=>{me.delete(route("unit-of-measurements.destroy",u),{preserveScroll:!0,onSuccess:()=>{g.add({severity:"success",summary:"Success",detail:"UOM Deleted Successfully.",life:5e3})},onError:t=>{console.log(t),g.add({severity:"error",summary:"Error",detail:t.message||"An error occurred while deleting the uom.",life:5e3})}})}})},{isCreateModalVisible:y,openCreateModal:O,store:$}=pe(),F=computed(()=>route("unit-of-measurements.export",{search:f.value}));return(u,t)=>{const _=l("Input"),P=l("SearchBar"),j=l("TableHeader"),C=l("TH"),A=l("TableHead"),b=l("TD"),B=l("EditButton"),L=l("DeleteButton"),q=l("TableBody"),X=l("Table"),G=l("MobileTableHeading"),z=l("LabelXS"),J=l("MobileTableRow"),K=l("MobileTableContainer"),Q=l("Pagination"),W=l("TableContainer"),Y=l("DialogTitle"),Z=l("DialogDescription"),h=l("DialogHeader"),N=l("Label"),R=l("FormError"),ee=l("Textarea"),te=l("Loading"),oe=l("Button"),le=l("DialogContent"),ne=l("Dialog"),ae=l("CreateReferenceModal"),se=l("Layout");return i(),k(se,{heading:"Unit of Measurements",hasButton:!0,handleClick:a(O),buttonName:"Create New UOM",hasExcelDownload:!0,exportRoute:a(F)},{default:o(()=>[e(W,null,{default:o(()=>[e(j,null,{default:o(()=>[e(P,null,{default:o(()=>[e(_,{class:"pl-10",modelValue:a(f),"onUpdate:modelValue":t[0]||(t[0]=n=>v(f)?f.value=n:null),placeholder:"Search..."},null,8,["modelValue"])]),_:1})]),_:1}),e(X,null,{default:o(()=>[e(A,null,{default:o(()=>[e(C,null,{default:o(()=>t[5]||(t[5]=[s(" Id ")])),_:1}),e(C,null,{default:o(()=>t[6]||(t[6]=[s(" Name")])),_:1}),e(C,null,{default:o(()=>t[7]||(t[7]=[s(" Remarks")])),_:1}),e(C,null,{default:o(()=>t[8]||(t[8]=[s(" Actions ")])),_:1})]),_:1}),e(q,null,{default:o(()=>[(i(!0),x(E,null,U(p.items.data,n=>(i(),x("tr",null,[e(b,null,{default:o(()=>[s(d(n.id),1)]),_:2},1024),e(b,null,{default:o(()=>[s(d(n.name),1)]),_:2},1024),e(b,null,{default:o(()=>[s(d(n.remarks??"N/a"),1)]),_:2},1024),e(b,null,{default:o(()=>[e(B,{onClick:T=>V(n.id)},null,8,["onClick"]),e(L,{onClick:T=>S(n.id)},null,8,["onClick"])]),_:2},1024)]))),256))]),_:1})]),_:1}),e(K,null,{default:o(()=>[(i(!0),x(E,null,U(p.items.data,n=>(i(),k(J,null,{default:o(()=>[e(G,{title:`${n.name}`},{default:o(()=>[e(B,{onClick:T=>V(n.id)},null,8,["onClick"]),e(L,{onClick:T=>S(n.id)},null,8,["onClick"])]),_:2},1032,["title"]),e(z,null,{default:o(()=>[s("Remarks: "+d(n.remarks??"N/a"),1)]),_:2},1024)]),_:2},1024))),256))]),_:1}),e(Q,{data:p.items},null,8,["data"])]),_:1}),e(ne,{open:a(m),"onUpdate:open":t[3]||(t[3]=n=>v(m)?m.value=n:null)},{default:o(()=>[e(le,{class:"sm:max-w-[425px]"},{default:o(()=>[e(h,null,{default:o(()=>[e(Y,null,{default:o(()=>t[9]||(t[9]=[s("Edit Category Details")])),_:1}),e(Z,null,{default:o(()=>t[10]||(t[10]=[s(" Input all important fields. ")])),_:1})]),_:1}),c("div",fe,[c("div",_e,[e(N,{class:"text-xs"},{default:o(()=>t[11]||(t[11]=[s("Name")])),_:1}),e(_,{modelValue:a(r).name,"onUpdate:modelValue":t[1]||(t[1]=n=>a(r).name=n)},null,8,["modelValue"]),e(R,null,{default:o(()=>[s(d(a(r).errors.name),1)]),_:1})]),c("div",Ce,[e(N,{class:"text-xs"},{default:o(()=>t[12]||(t[12]=[s("Remarks")])),_:1}),e(ee,{modelValue:a(r).remarks,"onUpdate:modelValue":t[2]||(t[2]=n=>a(r).remarks=n)},null,8,["modelValue"]),e(R,null,{default:o(()=>[s(d(a(r).errors.remarks),1)]),_:1})]),c("div",be,[e(oe,{onClick:I,class:"gap-2"},{default:o(()=>[t[13]||(t[13]=s(" Save Changes ")),c("span",null,[a(D)?(i(),k(te,{key:0})):de("",!0)])]),_:1})])])]),_:1})]),_:1},8,["open"]),e(ae,{isCreateModalVisible:a(y),"onUpdate:isCreateModalVisible":t[4]||(t[4]=n=>v(y)?y.value=n:null),title:"Create UOM",form:a(r),isLoading:a(D),handleCreate:()=>a($)(u.route("unit-of-measurements.store"),a(r),"Unit of Measurement")},null,8,["isCreateModalVisible","form","isLoading","handleCreate"])]),_:1},8,["handleClick","exportRoute"])}}};export{ve as default};
