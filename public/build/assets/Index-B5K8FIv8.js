import{x as g,G as te,T as le,l as oe,r as o,o as m,c as v,w as t,a as e,u as r,i as ne,b as a,d as T,e as B,t as s,F as N,g as c,h as ae,N as se}from"./app-p8ycGfai.js";import{u as ue}from"./useSearch-rBw-Wc-C.js";import{u as re}from"./useReferenceDelete-BVAnhMD8.js";import"./lodash-Z9yJD-f9.js";const ie={class:"space-y-5"},de={class:"flex flex-col space-y-1"},pe={class:"flex flex-col space-y-1"},me={class:"flex justify-end"},ve={__name:"Index",props:{data:{type:Object,required:!0}},setup(f){const b=g(!1),x=te(),V=g(!1),u=le({name:null,remarks:null}),L=g(null),E=()=>{u.post(route("suppliers.update",L.value),{preserveScroll:!0,onSuccess:()=>{x.add({severity:"success",summary:"Success",detail:"Supplier Details Updated Successfully.",life:5e3}),u.reset(),b.value=!1},onError:i=>{let l="An error occurred while trying to update the supplier details.";Object.keys(i).length>0&&(l=Object.values(i).join(", ")),x.add({severity:"error",summary:"Error",detail:l,life:5e3})}})},{search:_}=ue("suppliers.index"),H=()=>{se.visit(route("suppliers.create"))},{deleteModel:w}=re(),M=oe(()=>route("suppliers.export",{search:_.value}));return(i,l)=>{const D=o("Input"),R=o("SearchBar"),I=o("TableHeader"),d=o("TH"),F=o("TableHead"),p=o("TD"),y=o("EditButton"),j=o("DeleteButton"),U=o("DivFlexCenter"),A=o("TableBody"),O=o("Table"),P=o("MobileTableHeading"),S=o("LabelXS"),X=o("MobileTableRow"),q=o("MobileTableContainer"),z=o("Pagination"),G=o("TableContainer"),$=o("DialogTitle"),J=o("DialogDescription"),K=o("DialogHeader"),k=o("Label"),C=o("FormError"),Q=o("Textarea"),W=o("Loading"),Y=o("Button"),Z=o("DialogContent"),h=o("Dialog"),ee=o("Layout");return m(),v(ee,{heading:"Suppliers",hasButton:!0,buttonName:"Create New Supplier",handleClick:H,hasExcelDownload:!0,exportRoute:M.value},{default:t(()=>[e(G,null,{default:t(()=>[e(I,null,{default:t(()=>[e(R,null,{default:t(()=>[e(D,{class:"pl-10",modelValue:r(_),"onUpdate:modelValue":l[0]||(l[0]=n=>ne(_)?_.value=n:null),placeholder:"Search..."},null,8,["modelValue"])]),_:1})]),_:1}),e(O,null,{default:t(()=>[e(F,null,{default:t(()=>[e(d,null,{default:t(()=>l[4]||(l[4]=[a(" Id ")])),_:1}),e(d,null,{default:t(()=>l[5]||(l[5]=[a(" Name")])),_:1}),e(d,null,{default:t(()=>l[6]||(l[6]=[a(" Supplier Code")])),_:1}),e(d,null,{default:t(()=>l[7]||(l[7]=[a(" Remarks")])),_:1}),e(d,null,{default:t(()=>l[8]||(l[8]=[a(" Status")])),_:1}),e(d,null,{default:t(()=>l[9]||(l[9]=[a(" Actions ")])),_:1})]),_:1}),e(A,null,{default:t(()=>[(m(!0),T(N,null,B(f.data.data,n=>(m(),T("tr",{key:n.id},[e(p,null,{default:t(()=>[a(s(n.id),1)]),_:2},1024),e(p,null,{default:t(()=>[a(s(n.name),1)]),_:2},1024),e(p,null,{default:t(()=>[a(s(n.supplier_code),1)]),_:2},1024),e(p,null,{default:t(()=>[a(s(n.remarks??"N/a"),1)]),_:2},1024),e(p,null,{default:t(()=>[a(s(Number(n.is_active)===1?"Active":"Inactive"),1)]),_:2},1024),e(p,null,{default:t(()=>[e(U,null,{default:t(()=>[e(y,{isLink:!0,href:i.route("suppliers.edit",n.id)},null,8,["href"]),e(j,{onClick:ce=>r(w)(i.route("suppliers.destroy",n.id),"Supplier")},null,8,["onClick"])]),_:2},1024)]),_:2},1024)]))),128))]),_:1})]),_:1}),e(q,null,{default:t(()=>[(m(!0),T(N,null,B(f.data.data,n=>(m(),v(X,{key:n.id},{default:t(()=>[e(P,{title:n.name},{default:t(()=>[e(y,{isLink:!0,class:"size-5",href:i.route("suppliers.edit",n.id)},null,8,["href"])]),_:2},1032,["title"]),e(S,null,{default:t(()=>[a("Supplier Code: "+s(n.supplier_code),1)]),_:2},1024),e(S,null,{default:t(()=>[a("Status: "+s(Number(n.is_active)===1?"Active":"Inactive"),1)]),_:2},1024)]),_:2},1024))),128))]),_:1}),e(z,{data:f.data},null,8,["data"])]),_:1}),e(h,{open:b.value,"onUpdate:open":l[3]||(l[3]=n=>b.value=n)},{default:t(()=>[e(Z,{class:"sm:max-w-[425px]"},{default:t(()=>[e(K,null,{default:t(()=>[e($,null,{default:t(()=>l[10]||(l[10]=[a("Edit Category Details")])),_:1}),e(J,null,{default:t(()=>l[11]||(l[11]=[a(" Input all important fields. ")])),_:1})]),_:1}),c("div",ie,[c("div",de,[e(k,{class:"text-xs"},{default:t(()=>l[12]||(l[12]=[a("Name")])),_:1}),e(D,{modelValue:r(u).name,"onUpdate:modelValue":l[1]||(l[1]=n=>r(u).name=n)},null,8,["modelValue"]),e(C,null,{default:t(()=>[a(s(r(u).errors.name),1)]),_:1})]),c("div",pe,[e(k,{class:"text-xs"},{default:t(()=>l[13]||(l[13]=[a("Remarks")])),_:1}),e(Q,{modelValue:r(u).remarks,"onUpdate:modelValue":l[2]||(l[2]=n=>r(u).remarks=n)},null,8,["modelValue"]),e(C,null,{default:t(()=>[a(s(r(u).errors.remarks),1)]),_:1})]),c("div",me,[e(Y,{onClick:E,class:"gap-2"},{default:t(()=>[l[14]||(l[14]=a(" Save Changes ")),c("span",null,[V.value?(m(),v(W,{key:0})):ae("",!0)])]),_:1})])])]),_:1})]),_:1},8,["open"])]),_:1},8,["exportRoute"])}}};export{ve as default};
