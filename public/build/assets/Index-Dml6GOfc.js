import{u as I}from"./useSelectOptions-BWAyP7Dg.js";import{Q as L,N as _,r as n,o as v,c as j,w as t,a as e,u as p,i as b,b as a,d as V,e as F,t as f,F as N}from"./app-Drfr7wPO.js";import{l as k}from"./lodash-IPPPM5x9.js";const R={__name:"Index",props:{inventories:{type:Object,required:!0},branches:{type:Object,required:!0},timePeriods:{type:Object,required:!0},filters:{type:Object,required:!0}},setup(u){const{options:T}=I(u.branches);let r=ref(L().props.filters.search);const s=ref(u.filters.branchId||T.value[0].value),{options:S}=I(u.timePeriods),i=ref(u.filters.time_period||S.value[0].value);return watch(s,d=>{_.get(route("inventories-report.index"),{search:r.value,branchId:d,time_period:i.value},{preserveState:!0,preserveScroll:!0})}),watch(i,d=>{_.get(route("inventories-report.index"),{search:r.value,time_period:d,branchId:s.value},{preserveState:!0,preserveScroll:!0})}),watch(r,k.throttle(function(d){_.get(route("inventories-report.index"),{search:d,branchId:s.value,time_period:i.value},{preserveState:!0,replace:!0})},500)),(d,l)=>{const x=n("Input"),y=n("SearchBar"),h=n("Select"),C=n("InputContainer"),g=n("DivFlexCenter"),B=n("TableHeader"),c=n("TH"),O=n("TableHead"),m=n("TD"),H=n("TableBody"),P=n("Table"),q=n("Pagination"),w=n("TableContainer"),D=n("Layout");return v(),j(D,{heading:"Inventories"},{default:t(()=>[e(w,null,{default:t(()=>[e(B,null,{default:t(()=>[e(y,null,{default:t(()=>[e(x,{class:"pl-10",placeholder:"Search...",modelValue:p(r),"onUpdate:modelValue":l[0]||(l[0]=o=>b(r)?r.value=o:r=o)},null,8,["modelValue"])]),_:1}),e(g,{class:"gap-5"},{default:t(()=>[e(h,{filter:"",placeholder:"Select a Supplier",modelValue:p(s),"onUpdate:modelValue":l[1]||(l[1]=o=>b(s)?s.value=o:null),options:p(T),optionLabel:"label",optionValue:"value"},null,8,["modelValue","options"]),e(C,null,{default:t(()=>[e(h,{modelValue:p(i),"onUpdate:modelValue":l[2]||(l[2]=o=>b(i)?i.value=o:null),filter:"",placeholder:"Time Periods",options:p(S),optionLabel:"label",optionValue:"value"},null,8,["modelValue","options"])]),_:1})]),_:1})]),_:1}),e(P,null,{default:t(()=>[e(O,null,{default:t(()=>[e(c,null,{default:t(()=>l[3]||(l[3]=[a("Item")])),_:1}),e(c,null,{default:t(()=>l[4]||(l[4]=[a("Inventory Code")])),_:1}),e(c,null,{default:t(()=>l[5]||(l[5]=[a("Quantity")])),_:1}),e(c,null,{default:t(()=>l[6]||(l[6]=[a("Total Cost")])),_:1})]),_:1}),e(H,null,{default:t(()=>[(v(!0),V(N,null,F(u.inventories.data,o=>(v(),V("tr",null,[e(m,null,{default:t(()=>[a(f(o.item),1)]),_:2},1024),e(m,null,{default:t(()=>[a(f(o.inventory_code),1)]),_:2},1024),e(m,null,{default:t(()=>[a(f(o.quantity),1)]),_:2},1024),e(m,null,{default:t(()=>[a(f(o.total_cost),1)]),_:2},1024)]))),256))]),_:1})]),_:1}),e(q,{data:u.inventories},null,8,["data"])]),_:1})]),_:1})}}};export{R as default};
