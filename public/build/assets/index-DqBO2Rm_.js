import{x as b,l as $,a0 as Z,a1 as k,a2 as V,V as re,a3 as de,a4 as Te,o as c,c as v,w as m,q as x,a5 as D,u as e,a6 as L,a7 as ke,a8 as Re,y as ge,a9 as pe,aa as ce,ab as ne,ac as Se,ad as he,ae as be,af as De,ag as Ee,b as H,t as Y,h as B,ah as Ce,d as ee,a as A,k as Ae,U as Fe,F as te,ai as Me,aj as ae,ak as le,al as ie,am as Ie,an as $e,ao as Q,S as Be,ap as Ve,aq as X,ar as Le,as as z,X as Ne,e as Oe,g as Ke,at as je,au as fe,av as Xe}from"./app-Bp7xdNcv.js";import{V as xe}from"./VisuallyHidden-CFaLkp8s.js";import{u as ze}from"./use-toast-DT_1psKJ.js";function ve(){const o=b(),a=$(()=>{var s,t;return["#text","#comment"].includes((s=o.value)==null?void 0:s.$el.nodeName)?(t=o.value)==null?void 0:t.$el.nextElementSibling:Z(o)});return{primitiveElement:o,currentElement:a}}var Ue=k({__name:"DismissableLayerBranch",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(o){const a=o,{forwardRef:s,currentElement:t}=V();return re(()=>{de.branches.add(t.value)}),Te(()=>{de.branches.delete(t.value)}),(r,d)=>(c(),v(e(L),D({ref:e(s)},a),{default:m(()=>[x(r.$slots,"default")]),_:3},16))}}),We=Ue;const me="data-reka-collection-item";function ue(o={}){const{key:a="",isProvider:s=!1}=o,t=`${a}CollectionProvider`;let r;if(s){const f=b(new Map);r={collectionRef:b(),itemMap:f},ke(t,r)}else r=Re(t);const d=(f=!1)=>{const y=r.collectionRef.value;if(!y)return[];const E=Array.from(y.querySelectorAll(`[${me}]`)),g=Array.from(r.itemMap.value.values()).sort((u,_)=>E.indexOf(u.ref)-E.indexOf(_.ref));return f?g:g.filter(u=>u.ref.dataset.disabled!=="")},T=k({name:"CollectionSlot",setup(f,{slots:y}){const{primitiveElement:E,currentElement:P}=ve();return ge(P,()=>{r.collectionRef.value=P.value}),()=>pe(ce,{ref:E},y)}}),n=k({name:"CollectionItem",inheritAttrs:!1,props:{value:{validator:()=>!0}},setup(f,{slots:y,attrs:E}){const{primitiveElement:P,currentElement:g}=ve();return ne(u=>{if(g.value){const _=Se(g.value);r.itemMap.value.set(_,{ref:g.value,value:f.value}),u(()=>r.itemMap.value.delete(_))}}),()=>pe(ce,{...E,[me]:"",ref:P},y)}}),l=$(()=>Array.from(r.itemMap.value.values())),p=$(()=>r.itemMap.value.size);return{getItems:d,reactiveItems:l,itemMapSize:p,CollectionSlot:T,CollectionItem:n}}var He=k({__name:"ToastAnnounceExclude",props:{altText:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(o){return(a,s)=>(c(),v(e(L),{as:a.as,"as-child":a.asChild,"data-reka-toast-announce-exclude":"","data-reka-toast-announce-alt":a.altText||void 0},{default:m(()=>[x(a.$slots,"default")]),_:3},8,["as","as-child","data-reka-toast-announce-alt"]))}}),Ye=He;const[G,Ge]=be("ToastProvider");var Je=k({inheritAttrs:!1,__name:"ToastProvider",props:{label:{type:String,required:!1,default:"Notification"},duration:{type:Number,required:!1,default:5e3},swipeDirection:{type:String,required:!1,default:"right"},swipeThreshold:{type:Number,required:!1,default:50}},setup(o){const a=o,{label:s,duration:t,swipeDirection:r,swipeThreshold:d}=he(a);ue({isProvider:!0});const T=b(),n=b(0),l=b(!1),p=b(!1);if(a.label&&typeof a.label=="string"&&!a.label.trim()){const f="Invalid prop `label` supplied to `ToastProvider`. Expected non-empty `string`.";throw new Error(f)}return Ge({label:s,duration:t,swipeDirection:r,swipeThreshold:d,toastCount:n,viewport:T,onViewportChange(f){T.value=f},onToastAdd(){n.value++},onToastRemove(){n.value--},isFocusedToastEscapeKeyDownRef:l,isClosePausedRef:p}),(f,y)=>x(f.$slots,"default")}}),Qe=Je,Ze=k({__name:"ToastAnnounce",setup(o){const a=G(),s=De(1e3),t=b(!1);return Ee(()=>{t.value=!0}),(r,d)=>e(s)||t.value?(c(),v(e(xe),{key:0},{default:m(()=>[H(Y(e(a).label.value)+" ",1),x(r.$slots,"default")]),_:3})):B("v-if",!0)}}),et=Ze;const tt="toast.swipeStart",at="toast.swipeMove",st="toast.swipeCancel",ot="toast.swipeEnd",se="toast.viewportPause",oe="toast.viewportResume";function W(o,a,s){const t=s.originalEvent.currentTarget,r=new CustomEvent(o,{bubbles:!1,cancelable:!0,detail:s});a&&t.addEventListener(o,a,{once:!0}),t.dispatchEvent(r)}function ye(o,a,s=0){const t=Math.abs(o.x),r=Math.abs(o.y),d=t>r;return a==="left"||a==="right"?d&&t>s:!d&&r>s}function rt(o){return o.nodeType===o.ELEMENT_NODE}function Pe(o){const a=[];return Array.from(o.childNodes).forEach(t=>{if(t.nodeType===t.TEXT_NODE&&t.textContent&&a.push(t.textContent),rt(t)){const r=t.ariaHidden||t.hidden||t.style.display==="none",d=t.dataset.rekaToastAnnounceExclude==="";if(!r)if(d){const T=t.dataset.rekaToastAnnounceAlt;T&&a.push(T)}else a.push(...Pe(t))}}),a}const[nt,lt]=be("ToastRoot");var it=k({inheritAttrs:!1,__name:"ToastRootImpl",props:{type:{type:String,required:!1},open:{type:Boolean,required:!1,default:!1},duration:{type:Number,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"li"}},emits:["close","escapeKeyDown","pause","resume","swipeStart","swipeMove","swipeCancel","swipeEnd"],setup(o,{emit:a}){const s=o,t=a,{forwardRef:r,currentElement:d}=V(),{CollectionItem:T}=ue(),n=G(),l=b(null),p=b(null),f=$(()=>typeof s.duration=="number"?s.duration:n.duration.value),y=b(0),E=b(f.value),P=b(0),g=b(f.value),u=Ee(()=>{const w=new Date().getTime()-y.value;g.value=Math.max(E.value-w,0)},{fpsLimit:60});function _(w){w<=0||w===Number.POSITIVE_INFINITY||Me&&(window.clearTimeout(P.value),y.value=new Date().getTime(),P.value=window.setTimeout(q,w))}function q(w){var C,R;const h=(w==null?void 0:w.pointerType)==="";((C=d.value)==null?void 0:C.contains(ae()))&&h&&((R=n.viewport.value)==null||R.focus()),h&&(n.isClosePausedRef.value=!1),t("close")}const F=$(()=>d.value?Pe(d.value):null);if(s.type&&!["foreground","background"].includes(s.type)){const w="Invalid prop `type` supplied to `Toast`. Expected `foreground | background`.";throw new Error(w)}return ne(w=>{const h=n.viewport.value;if(h){const i=()=>{_(E.value),u.resume(),t("resume")},C=()=>{const R=new Date().getTime()-y.value;E.value=E.value-R,window.clearTimeout(P.value),u.pause(),t("pause")};return h.addEventListener(se,C),h.addEventListener(oe,i),()=>{h.removeEventListener(se,C),h.removeEventListener(oe,i)}}}),ge(()=>[s.open,f.value],()=>{E.value=f.value,s.open&&!n.isClosePausedRef.value&&_(f.value)},{immediate:!0}),Ce("Escape",w=>{t("escapeKeyDown",w),w.defaultPrevented||(n.isFocusedToastEscapeKeyDownRef.value=!0,q())}),re(()=>{n.onToastAdd()}),Te(()=>{n.onToastRemove()}),lt({onClose:q}),(w,h)=>(c(),ee(te,null,[F.value?(c(),v(et,{key:0,role:"alert","aria-live":w.type==="foreground"?"assertive":"polite","aria-atomic":"true"},{default:m(()=>[H(Y(F.value),1)]),_:1},8,["aria-live"])):B("v-if",!0),e(n).viewport.value?(c(),v(Fe,{key:1,to:e(n).viewport.value},[A(e(T),null,{default:m(()=>[A(e(L),D({ref:e(r),role:"alert","aria-live":"off","aria-atomic":"true",tabindex:"0"},w.$attrs,{as:w.as,"as-child":w.asChild,"data-state":w.open?"open":"closed","data-swipe-direction":e(n).swipeDirection.value,style:{userSelect:"none",touchAction:"none"},onPointerdown:h[0]||(h[0]=Ae(i=>{l.value={x:i.clientX,y:i.clientY}},["left"])),onPointermove:h[1]||(h[1]=i=>{if(!l.value)return;const C=i.clientX-l.value.x,R=i.clientY-l.value.y,M=!!p.value,I=["left","right"].includes(e(n).swipeDirection.value),S=["left","up"].includes(e(n).swipeDirection.value)?Math.min:Math.max,J=I?S(0,C):0,N=I?0:S(0,R),U=i.pointerType==="touch"?10:2,O={x:J,y:N},K={originalEvent:i,delta:O};M?(p.value=O,e(W)(e(at),j=>t("swipeMove",j),K)):e(ye)(O,e(n).swipeDirection.value,U)?(p.value=O,e(W)(e(tt),j=>t("swipeStart",j),K),i.target.setPointerCapture(i.pointerId)):(Math.abs(C)>U||Math.abs(R)>U)&&(l.value=null)}),onPointerup:h[2]||(h[2]=i=>{const C=p.value,R=i.target;if(R.hasPointerCapture(i.pointerId)&&R.releasePointerCapture(i.pointerId),p.value=null,l.value=null,C){const M=i.currentTarget,I={originalEvent:i,delta:C};e(ye)(C,e(n).swipeDirection.value,e(n).swipeThreshold.value)?e(W)(e(ot),S=>t("swipeEnd",S),I):e(W)(e(st),S=>t("swipeCancel",S),I),M==null||M.addEventListener("click",S=>S.preventDefault(),{once:!0})}})}),{default:m(()=>[x(w.$slots,"default",{remaining:g.value,duration:f.value})]),_:3},16,["as","as-child","data-state","data-swipe-direction"])]),_:3})],8,["to"])):B("v-if",!0)],64))}}),ut=it,dt=k({__name:"ToastClose",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(o){const a=o,s=nt(),{forwardRef:t}=V();return(r,d)=>(c(),v(Ye,{"as-child":""},{default:m(()=>[A(e(L),D(a,{ref:e(t),type:r.as==="button"?"button":void 0,onClick:e(s).onClose}),{default:m(()=>[x(r.$slots,"default")]),_:3},16,["type","onClick"])]),_:3}))}}),pt=dt,ct=k({__name:"ToastDescription",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(o){const a=o;return V(),(s,t)=>(c(),v(e(L),le(ie(a)),{default:m(()=>[x(s.$slots,"default")]),_:3},16))}}),ft=ct,vt=k({__name:"ToastRoot",props:{defaultOpen:{type:Boolean,required:!1,default:!0},forceMount:{type:Boolean,required:!1},type:{type:String,required:!1,default:"foreground"},open:{type:Boolean,required:!1,default:void 0},duration:{type:Number,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"li"}},emits:["escapeKeyDown","pause","resume","swipeStart","swipeMove","swipeCancel","swipeEnd","update:open"],setup(o,{emit:a}){const s=o,t=a,{forwardRef:r}=V(),d=Ie(s,"open",t,{defaultValue:s.defaultOpen,passive:s.open===void 0});return(T,n)=>(c(),v(e($e),{present:T.forceMount||e(d)},{default:m(()=>[A(ut,D({ref:e(r),open:e(d),type:T.type,as:T.as,"as-child":T.asChild,duration:T.duration},T.$attrs,{onClose:n[0]||(n[0]=l=>d.value=!1),onPause:n[1]||(n[1]=l=>t("pause")),onResume:n[2]||(n[2]=l=>t("resume")),onEscapeKeyDown:n[3]||(n[3]=l=>t("escapeKeyDown",l)),onSwipeStart:n[4]||(n[4]=l=>{t("swipeStart",l),l.defaultPrevented||l.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:n[5]||(n[5]=l=>{if(t("swipeMove",l),!l.defaultPrevented){const{x:p,y:f}=l.detail.delta,y=l.currentTarget;y.setAttribute("data-swipe","move"),y.style.setProperty("--reka-toast-swipe-move-x",`${p}px`),y.style.setProperty("--reka-toast-swipe-move-y",`${f}px`)}}),onSwipeCancel:n[6]||(n[6]=l=>{if(t("swipeCancel",l),!l.defaultPrevented){const p=l.currentTarget;p.setAttribute("data-swipe","cancel"),p.style.removeProperty("--reka-toast-swipe-move-x"),p.style.removeProperty("--reka-toast-swipe-move-y"),p.style.removeProperty("--reka-toast-swipe-end-x"),p.style.removeProperty("--reka-toast-swipe-end-y")}}),onSwipeEnd:n[7]||(n[7]=l=>{if(t("swipeEnd",l),!l.defaultPrevented){const{x:p,y:f}=l.detail.delta,y=l.currentTarget;y.setAttribute("data-swipe","end"),y.style.removeProperty("--reka-toast-swipe-move-x"),y.style.removeProperty("--reka-toast-swipe-move-y"),y.style.setProperty("--reka-toast-swipe-end-x",`${p}px`),y.style.setProperty("--reka-toast-swipe-end-y",`${f}px`),d.value=!1}})}),{default:m(({remaining:l,duration:p})=>[x(T.$slots,"default",{remaining:l,duration:p,open:e(d)})]),_:3},16,["open","type","as","as-child","duration"])]),_:3},8,["present"]))}}),mt=vt,yt=k({__name:"ToastTitle",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(o){const a=o;return V(),(s,t)=>(c(),v(e(L),le(ie(a)),{default:m(()=>[x(s.$slots,"default")]),_:3},16))}}),_t=yt,wt=k({__name:"FocusProxy",emits:["focusFromOutsideViewport"],setup(o,{emit:a}){const s=a,t=G();return(r,d)=>(c(),v(e(xe),{"aria-hidden":"true",tabindex:"0",style:{position:"fixed"},onFocus:d[0]||(d[0]=T=>{var p;const n=T.relatedTarget;!((p=e(t).viewport.value)!=null&&p.contains(n))&&s("focusFromOutsideViewport")})},{default:m(()=>[x(r.$slots,"default")]),_:3}))}}),_e=wt,Tt=k({inheritAttrs:!1,__name:"ToastViewport",props:{hotkey:{type:Array,required:!1,default:()=>["F8"]},label:{type:[String,Function],required:!1,default:"Notifications ({hotkey})"},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"ol"}},setup(o){const a=o,{hotkey:s,label:t}=he(a),{forwardRef:r,currentElement:d}=V(),{CollectionSlot:T,getItems:n}=ue(),l=G(),p=$(()=>l.toastCount.value>0),f=b(),y=b(),E=$(()=>s.value.join("+").replace(/Key/g,"").replace(/Digit/g,""));Ce(s.value,()=>{d.value.focus()}),re(()=>{l.onViewportChange(d.value)}),ne(g=>{const u=d.value;if(p.value&&u){const _=()=>{if(!l.isClosePausedRef.value){const i=new CustomEvent(se);u.dispatchEvent(i),l.isClosePausedRef.value=!0}},q=()=>{if(l.isClosePausedRef.value){const i=new CustomEvent(oe);u.dispatchEvent(i),l.isClosePausedRef.value=!1}},F=i=>{!u.contains(i.relatedTarget)&&q()},w=()=>{u.contains(ae())||q()},h=i=>{var M,I,S;const C=i.altKey||i.ctrlKey||i.metaKey;if(i.key==="Tab"&&!C){const J=ae(),N=i.shiftKey;if(i.target===u&&N){(M=f.value)==null||M.focus();return}const K=P({tabbingDirection:N?"backwards":"forwards"}),j=K.findIndex(qe=>qe===J);Q(K.slice(j+1))?i.preventDefault():N?(I=f.value)==null||I.focus():(S=y.value)==null||S.focus()}};u.addEventListener("focusin",_),u.addEventListener("focusout",F),u.addEventListener("pointermove",_),u.addEventListener("pointerleave",w),u.addEventListener("keydown",h),window.addEventListener("blur",_),window.addEventListener("focus",q),g(()=>{u.removeEventListener("focusin",_),u.removeEventListener("focusout",F),u.removeEventListener("pointermove",_),u.removeEventListener("pointerleave",w),u.removeEventListener("keydown",h),window.removeEventListener("blur",_),window.removeEventListener("focus",q)})}});function P({tabbingDirection:g}){const _=n().map(q=>q.ref).map(q=>{const F=[q,...Ve(q)];return g==="forwards"?F:F.reverse()});return(g==="forwards"?_.reverse():_).flat()}return(g,u)=>(c(),v(e(We),{role:"region","aria-label":typeof e(t)=="string"?e(t).replace("{hotkey}",E.value):e(t)(E.value),tabindex:"-1",style:Be({pointerEvents:p.value?void 0:"none"})},{default:m(()=>[p.value?(c(),v(_e,{key:0,ref:_=>{f.value=e(Z)(_)},onFocusFromOutsideViewport:u[0]||(u[0]=()=>{const _=P({tabbingDirection:"forwards"});e(Q)(_)})},null,512)):B("v-if",!0),A(e(T),null,{default:m(()=>[A(e(L),D({ref:e(r),tabindex:"-1",as:g.as,"as-child":g.asChild},g.$attrs),{default:m(()=>[x(g.$slots,"default")]),_:3},16,["as","as-child"])]),_:3}),p.value?(c(),v(_e,{key:1,ref:_=>{y.value=e(Z)(_)},onFocusFromOutsideViewport:u[1]||(u[1]=()=>{const _=P({tabbingDirection:"backwards"});e(Q)(_)})},null,512)):B("v-if",!0)]),_:3},8,["aria-label","style"]))}}),gt=Tt;const ht={__name:"Toast",props:{class:{type:null,required:!1},variant:{type:null,required:!1},onOpenChange:{type:Function,required:!1,skipCheck:!0},defaultOpen:{type:Boolean,required:!1},forceMount:{type:Boolean,required:!1},type:{type:String,required:!1},open:{type:Boolean,required:!1},duration:{type:Number,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pause","resume","swipeStart","swipeMove","swipeCancel","swipeEnd","update:open"],setup(o,{emit:a}){const s=o,t=a,r=X(s,"class"),d=Le(r,t);return(T,n)=>(c(),v(e(mt),D(e(d),{class:e(z)(e(qt)({variant:o.variant}),s.class),"onUpdate:open":o.onOpenChange}),{default:m(()=>[x(T.$slots,"default")]),_:3},16,["class","onUpdate:open"]))}},bt={__name:"ToastClose",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},setup(o){const a=o,s=X(a,"class");return(t,r)=>(c(),v(e(pt),D(e(s),{class:e(z)("absolute right-1 top-1 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-1 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",a.class)}),{default:m(()=>[A(e(Ne),{class:"h-4 w-4"})]),_:1},16,["class"]))}},we={__name:"ToastDescription",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},setup(o){const a=o,s=X(a,"class");return(t,r)=>(c(),v(e(ft),D({class:e(z)("text-sm opacity-90",a.class)},e(s)),{default:m(()=>[x(t.$slots,"default")]),_:3},16,["class"]))}},Et={class:"grid gap-1"},Dt={__name:"Toaster",setup(o){const{toasts:a}=ze();return(s,t)=>(c(),v(e(Ct),null,{default:m(()=>[(c(!0),ee(te,null,Oe(e(a),r=>(c(),v(e(ht),D({key:r.id,ref_for:!0},r),{default:m(()=>[Ke("div",Et,[r.title?(c(),v(e(xt),{key:0},{default:m(()=>[H(Y(r.title),1)]),_:2},1024)):B("",!0),r.description?(c(),ee(te,{key:1},[je(r.description)?(c(),v(e(we),{key:0},{default:m(()=>[(c(),v(fe(r.description)))]),_:2},1024)):(c(),v(e(we),{key:1},{default:m(()=>[H(Y(r.description),1)]),_:2},1024))],64)):B("",!0),A(e(bt))]),(c(),v(fe(r.action)))]),_:2},1040))),128)),A(e(Pt))]),_:1}))}},Ct={__name:"ToastProvider",props:{label:{type:String,required:!1},duration:{type:Number,required:!1},swipeDirection:{type:String,required:!1},swipeThreshold:{type:Number,required:!1}},setup(o){const a=o;return(s,t)=>(c(),v(e(Qe),le(ie(a)),{default:m(()=>[x(s.$slots,"default")]),_:3},16))}},xt={__name:"ToastTitle",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},setup(o){const a=o,s=X(a,"class");return(t,r)=>(c(),v(e(_t),D(e(s),{class:e(z)("text-sm font-semibold [&+div]:text-xs",a.class)}),{default:m(()=>[x(t.$slots,"default")]),_:3},16,["class"]))}},Pt={__name:"ToastViewport",props:{hotkey:{type:Array,required:!1},label:{type:[String,Function],required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},setup(o){const a=o,s=X(a,"class");return(t,r)=>(c(),v(e(gt),D(e(s),{class:e(z)("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",a.class)}),null,16,["class"]))}},qt=Xe("group pointer-events-auto relative flex w-full items-center justify-between space-x-2 overflow-hidden rounded-md border p-4 pr-6 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--reka-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--reka-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}});export{Dt as _};
