import{Q as x,N as b,r as o,o as v,c as I,w as l,a as e,u as r,i as T,g as S,b as n,ak as z,ao as G,ap as J,aq as K,ar as M,as as W,d as B,e as y,at as X,t as _,F as w}from"./app-rjK1ng7o.js";import{l as Y}from"./lodash-DqVvdaAw.js";const Z={class:"flex justify-end"},le={__name:"Index",props:{transactions:{type:Object,required:!0},branches:{type:Object,required:!0},order_date:{type:String,required:!1}},setup(c){let u=ref(x().props.filters.search),s=ref(x().props.from??null),d=ref(x().props.to??null),p=ref(x().props.filters.branchId);watch(s,f=>{b.get(route("store-transactions-approval.index"),{search:u.value,from:f,to:d.value,branchId:p.value},{preserveState:!0,preserveScroll:!0})}),watch(d,f=>{b.get(route("store-transactions-approval.index"),{search:u.value,from:s.value,to:f,branchId:p.value},{preserveState:!0,preserveScroll:!0})}),watch(p,f=>{b.get(route("store-transactions-approval.index"),{search:u.value,from:s.value,to:d.value,branchId:f},{preserveState:!0,preserveScroll:!0})}),watch(u,Y.throttle(function(f){b.get(route("store-transactions-approval.index"),{search:f,from:s.value,to:d.value,branchId:p.value},{preserveState:!0,replace:!0})},500));const C=()=>{s.value=null,d.value=null,p.value=null,u.value=null},k=computed(()=>route("store-transactions.export",{search:u.value,branchId:p.value,from:s.value,to:d.value,order_date:c.order_date}));return console.log(c.order_date),(f,t)=>{const g=o("Input"),F=o("SearchBar"),P=o("Filter"),h=o("PopoverTrigger"),D=o("Button"),N=o("PopoverContent"),H=o("Popover"),R=o("DivFlexCenter"),q=o("TableHeader"),i=o("TH"),L=o("TableHead"),m=o("TD"),U=o("ShowButton"),j=o("TableBody"),E=o("Table"),O=o("Pagination"),$=o("TableContainer"),A=o("BackButton"),Q=o("Layout");return v(),I(Q,{heading:"Store Transactions Approval",hasExcelDownload:!0,exportRoute:r(k)},{default:l(()=>[e($,null,{default:l(()=>[e(q,null,{default:l(()=>[e(F,null,{default:l(()=>[e(g,{class:"pl-10",placeholder:"Search...",modelValue:r(u),"onUpdate:modelValue":t[0]||(t[0]=a=>T(u)?u.value=a:u=a)},null,8,["modelValue"])]),_:1}),e(R,{class:"gap-5"},{default:l(()=>[e(H,null,{default:l(()=>[e(h,null,{default:l(()=>[e(P)]),_:1}),e(N,null,{default:l(()=>[S("div",Z,[e(D,{onClick:C,variant:"link",class:"text-end text-red-500 text-xs"},{default:l(()=>t[4]||(t[4]=[n(" Reset Filter ")])),_:1})]),t[6]||(t[6]=S("label",{class:"text-xs"},"From",-1)),e(g,{type:"date",modelValue:r(s),"onUpdate:modelValue":t[1]||(t[1]=a=>T(s)?s.value=a:s=a)},null,8,["modelValue"]),t[7]||(t[7]=S("label",{class:"text-xs"},"To",-1)),e(g,{type:"date",modelValue:r(d),"onUpdate:modelValue":t[2]||(t[2]=a=>T(d)?d.value=a:d=a)},null,8,["modelValue"]),t[8]||(t[8]=S("label",{class:"text-xs"},"Store",-1)),e(r(z),{modelValue:r(p),"onUpdate:modelValue":t[3]||(t[3]=a=>T(p)?p.value=a:p=a)},{default:l(()=>[e(r(G),null,{default:l(()=>[e(r(J),{placeholder:"Select a store"})]),_:1}),e(r(K),null,{default:l(()=>[e(r(M),null,{default:l(()=>[e(r(W),null,{default:l(()=>t[5]||(t[5]=[n("Stores")])),_:1}),(v(!0),B(w,null,y(c.branches,(a,V)=>(v(),I(r(X),{key:V,value:V},{default:l(()=>[n(_(a),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1}),e(E,null,{default:l(()=>[e(L,null,{default:l(()=>[e(i,null,{default:l(()=>t[9]||(t[9]=[n("Id")])),_:1}),e(i,null,{default:l(()=>t[10]||(t[10]=[n("Store Branch")])),_:1}),e(i,null,{default:l(()=>t[11]||(t[11]=[n("Receipt No.")])),_:1}),e(i,null,{default:l(()=>t[12]||(t[12]=[n("Item Count")])),_:1}),e(i,null,{default:l(()=>t[13]||(t[13]=[n("Overall Net Total")])),_:1}),e(i,null,{default:l(()=>t[14]||(t[14]=[n("Date")])),_:1}),e(i,null,{default:l(()=>t[15]||(t[15]=[n("Actions")])),_:1})]),_:1}),e(j,null,{default:l(()=>[(v(!0),B(w,null,y(c.transactions.data,a=>(v(),B("tr",null,[e(m,null,{default:l(()=>[n(_(a.id),1)]),_:2},1024),e(m,null,{default:l(()=>[n(_(a.store_branch),1)]),_:2},1024),e(m,null,{default:l(()=>[n(_(a.receipt_number),1)]),_:2},1024),e(m,null,{default:l(()=>[n(_(a.item_count),1)]),_:2},1024),e(m,null,{default:l(()=>[n(_(a.net_total),1)]),_:2},1024),e(m,null,{default:l(()=>[n(_(a.order_date),1)]),_:2},1024),e(m,{class:"flex items-center"},{default:l(()=>[e(U,{isLink:!0,href:f.route("store-transactions-approval.show",a.id)},null,8,["href"])]),_:2},1024)]))),256))]),_:1})]),_:1}),e(O,{data:c.transactions},null,8,["data"])]),_:1}),e(A)]),_:1},8,["exportRoute"])}}};export{le as default};
