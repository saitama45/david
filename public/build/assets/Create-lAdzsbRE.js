import{T as D,G as Q,f as W,r as u,o as k,d as X,a as t,w as l,b as r,u as o,t as i,g as f,c as Y,h as Z,i as $,F as h,N as ee}from"./app-p8ycGfai.js";import{u as b}from"./useSelectOptions-Ci2WUICq.js";const te={class:"space-y-5"},le={class:"flex flex-col space-y-1"},oe={class:"flex flex-col space-y-1"},ae={__name:"Create",props:{inventoryCategories:{type:Object,required:!0},unitOfMeasurements:{type:Object,required:!0},productCategories:{type:Object,required:!0}},setup(F){const c=ref(!1),g=D({products_file:null}),I=()=>{_.value=!0,g.post(route("items.import"),{onSuccess:()=>{C.add({severity:"success",summary:"Success",detail:"New Products Created",life:3e3}),_.value=!1},onError:y=>{_.value=!1,C.add({severity:"error",summary:"Error",detail:"An error occured while trying to create new products. Please make sure that you are using the correct format.",life:3e3})}})},C=Q(),S=W(),n=D({inventory_category_id:null,unit_of_measurement_id:null,category_a:null,category_b:null,packaging:null,conversion:null,name:null,inventory_code:null,brand:null,cost:null,categories:null}),v=F,{options:U}=b(v.inventoryCategories),{options:w}=b(v.unitOfMeasurements);b(v.productCategories);const N=()=>{S.require({message:"Are you sure you want to create this product?",header:"Confirmation",icon:"pi pi-exclamation-triangle",rejectProps:{label:"Cancel",severity:"secondary",outlined:!0},acceptProps:{label:"Create",severity:"success"},accept:()=>{n.post(route("items.store"),{preserveScroll:!0,onSuccess:()=>{C.add({severity:"success",summary:"Success",detail:"New Product Successfully Created",life:3e3})},onError:y=>{console.log(y)}})}})},_=ref(!1),P=()=>{ee.get(route("items.index"))},B=()=>c.value=!0;return watch(c,y=>{y||(g.reset(),g.clearErrors(),_.value=!1)}),(y,e)=>{const L=u("CardTitle"),O=u("CardDescription"),E=u("CardHeader"),s=u("Label"),x=u("Select"),d=u("FormError"),m=u("InputContainer"),p=u("Input"),T=u("CardContent"),V=u("Button"),j=u("CardFooter"),M=u("Card"),q=u("Layout"),A=u("DialogTitle"),H=u("DialogDescription"),G=u("DialogHeader"),R=u("Loading"),z=u("DialogFooter"),J=u("DialogContent"),K=u("Dialog");return k(),X(h,null,[t(q,{heading:"Create New Product",hasButton:!0,buttonName:"Import Excel",handleClick:B},{default:l(()=>[t(M,null,{default:l(()=>[t(E,null,{default:l(()=>[t(L,null,{default:l(()=>e[12]||(e[12]=[r("Product Details")])),_:1}),t(O,null,{default:l(()=>e[13]||(e[13]=[r("Input all the important fields")])),_:1})]),_:1}),t(T,{class:"grid sm:grid-cols-2 gap-5"},{default:l(()=>[t(m,null,{default:l(()=>[t(s,null,{default:l(()=>e[14]||(e[14]=[r("Inventory Category")])),_:1}),t(x,{filter:"",placeholder:"Select inventory category",modelValue:o(n).inventory_category_id,"onUpdate:modelValue":e[0]||(e[0]=a=>o(n).inventory_category_id=a),options:o(U),optionLabel:"label",optionValue:"value"},null,8,["modelValue","options"]),t(d,null,{default:l(()=>[r(i(o(n).errors.inventory_category_id),1)]),_:1})]),_:1}),t(m,null,{default:l(()=>[t(s,null,{default:l(()=>e[15]||(e[15]=[r("Name")])),_:1}),t(p,{modelValue:o(n).name,"onUpdate:modelValue":e[1]||(e[1]=a=>o(n).name=a)},null,8,["modelValue"]),t(d,null,{default:l(()=>[r(i(o(n).errors.name),1)]),_:1})]),_:1}),t(m,null,{default:l(()=>[t(s,null,{default:l(()=>e[16]||(e[16]=[r("Inventory Code")])),_:1}),t(p,{modelValue:o(n).inventory_code,"onUpdate:modelValue":e[2]||(e[2]=a=>o(n).inventory_code=a)},null,8,["modelValue"]),t(d,null,{default:l(()=>[r(i(o(n).errors.inventory_code),1)]),_:1})]),_:1}),t(m,null,{default:l(()=>[t(s,null,{default:l(()=>e[17]||(e[17]=[r("Brand")])),_:1}),t(p,{modelValue:o(n).brand,"onUpdate:modelValue":e[3]||(e[3]=a=>o(n).brand=a)},null,8,["modelValue"]),t(d,null,{default:l(()=>[r(i(o(n).errors.brand),1)]),_:1})]),_:1}),t(m,null,{default:l(()=>[t(s,null,{default:l(()=>e[18]||(e[18]=[r("Packaging")])),_:1}),t(p,{modelValue:o(n).packaging,"onUpdate:modelValue":e[4]||(e[4]=a=>o(n).packaging=a)},null,8,["modelValue"]),t(d,null,{default:l(()=>[r(i(o(n).errors.packaging),1)]),_:1})]),_:1}),t(m,null,{default:l(()=>[t(s,null,{default:l(()=>e[19]||(e[19]=[r("Conversion")])),_:1}),t(p,{modelValue:o(n).conversion,"onUpdate:modelValue":e[5]||(e[5]=a=>o(n).conversion=a),type:"number"},null,8,["modelValue"]),t(d,null,{default:l(()=>[r(i(o(n).errors.conversion),1)]),_:1})]),_:1}),t(m,null,{default:l(()=>[t(s,null,{default:l(()=>e[20]||(e[20]=[r("Unit of measurement")])),_:1}),t(x,{filter:"",placeholder:"Select unit of measurement",modelValue:o(n).unit_of_measurement_id,"onUpdate:modelValue":e[6]||(e[6]=a=>o(n).unit_of_measurement_id=a),options:o(w),optionLabel:"label",optionValue:"value"},null,8,["modelValue","options"]),t(d,null,{default:l(()=>[r(i(o(n).errors.unit_of_measurement_id),1)]),_:1})]),_:1}),t(m,null,{default:l(()=>[t(s,null,{default:l(()=>e[21]||(e[21]=[r("Category - A")])),_:1}),t(p,{modelValue:o(n).category_a,"onUpdate:modelValue":e[7]||(e[7]=a=>o(n).category_a=a)},null,8,["modelValue"]),t(d,null,{default:l(()=>[r(i(o(n).errors.category_a),1)]),_:1})]),_:1}),t(m,null,{default:l(()=>[t(s,null,{default:l(()=>e[22]||(e[22]=[r("Category - B")])),_:1}),t(p,{modelValue:o(n).category_b,"onUpdate:modelValue":e[8]||(e[8]=a=>o(n).category_b=a)},null,8,["modelValue"]),t(d,null,{default:l(()=>[r(i(o(n).errors.category_b),1)]),_:1})]),_:1}),t(m,null,{default:l(()=>[t(s,null,{default:l(()=>e[23]||(e[23]=[r("Cost")])),_:1}),t(p,{modelValue:o(n).cost,"onUpdate:modelValue":e[9]||(e[9]=a=>o(n).cost=a),type:"number"},null,8,["modelValue"]),t(d,null,{default:l(()=>[r(i(o(n).errors.cost),1)]),_:1})]),_:1})]),_:1}),t(j,{class:"justify-end gap-3"},{default:l(()=>[t(V,{onClick:P,variant:"outline"},{default:l(()=>e[24]||(e[24]=[r("Cancel")])),_:1}),t(V,{onClick:N},{default:l(()=>e[25]||(e[25]=[r("Create")])),_:1})]),_:1})]),_:1})]),_:1}),t(K,{open:o(c),"onUpdate:open":e[11]||(e[11]=a=>$(c)?c.value=a:null)},{default:l(()=>[t(J,{class:"sm:max-w-[600px]"},{default:l(()=>[t(G,null,{default:l(()=>[t(A,null,{default:l(()=>e[26]||(e[26]=[r("Import Products")])),_:1}),t(H,null,{default:l(()=>e[27]||(e[27]=[r(" Import the excel file of the products. ")])),_:1})]),_:1}),f("div",te,[f("div",le,[t(p,{type:"file",onInput:e[10]||(e[10]=a=>o(g).products_file=a.target.files[0])}),t(d,null,{default:l(()=>[r(i(o(g).errors.products_file),1)]),_:1})]),f("div",oe,[t(s,{class:"text-xs"},{default:l(()=>e[28]||(e[28]=[r("Accepted Products File Format")])),_:1}),e[29]||(e[29]=f("ul",null,[f("li",{class:"text-xs"},[f("a",{class:"text-blue-500 underline",href:"/excel/products-template"},"Click to download")])],-1))])]),t(z,null,{default:l(()=>[t(V,{disabled:o(_),onClick:I,type:"submit",class:"gap-2"},{default:l(()=>[e[30]||(e[30]=r(" Proceed ")),f("span",null,[o(_)?(k(),Y(R,{key:0})):Z("",!0)])]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["open"])],64)}}};export{ae as default};
