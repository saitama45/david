import{G as O,x as $,T as D,l as j,r as M,o as i,d,a as f,u as o,Z as N,w as b,bA as P,j as A,bx as h,g as t,k as B,m,bz as k,F as c,e as _,t as l,h as u,z as C,v as w,p as E,b as L}from"./app-Bp7xdNcv.js";const z={class:"p-4 bg-white shadow-md rounded-lg"},F={class:"max-w-2xl mx-auto"},G={key:0,label:"Suppliers"},W=["value"],I={key:1,label:"Others"},Z=["value"],q={key:0,class:"mt-2 text-sm text-red-600"},H={class:"border-t border-gray-200 pt-8"},J={class:"mt-6 grid grid-cols-1 gap-x-6 gap-y-8 sm:grid-cols-6"},K={class:"sm:col-span-3"},Q=["value"],R={key:0,class:"mt-2 text-sm text-red-600"},X={class:"sm:col-span-3"},Y={key:0,class:"mt-2 text-sm text-red-600"},ee={class:"sm:col-span-6"},te={class:"mt-2"},se={class:"space-y-2 sm:flex sm:items-center sm:space-x-4 sm:space-y-0"},oe=["id","value"],re=["for"],ie={key:0,class:"mt-2 text-sm text-red-600"},de={class:"border-t border-gray-200 pt-8"},le={class:"mt-6 grid grid-cols-1 gap-x-6 gap-y-8 sm:grid-cols-6"},ne={class:"sm:col-span-3"},ae=["value"],ue={key:0,class:"mt-2 text-sm text-red-600"},fe={class:"sm:col-span-3"},me={key:0,class:"mt-2 text-sm text-red-600"},ce={class:"sm:col-span-6"},_e={class:"mt-2"},ge={class:"space-y-2 sm:flex sm:items-center sm:space-x-4 sm:space-y-0"},pe=["id","value"],ye=["for"],xe={key:0,class:"mt-2 text-sm text-red-600"},be={class:"border-t border-gray-200 pt-8 flex items-center justify-between"},ve=["disabled"],Ce={__name:"Edit",props:{ordersCutoff:Object,variants:Array},setup(V){const n=V,S=O(),g=$(!1),r=D({_method:"PUT",ordering_template:n.ordersCutoff.ordering_template,cutoff_1_day:n.ordersCutoff.cutoff_1_day,cutoff_1_time:n.ordersCutoff.cutoff_1_time?n.ordersCutoff.cutoff_1_time.substring(0,5):null,days_covered_1:n.ordersCutoff.days_covered_1||[],cutoff_2_day:n.ordersCutoff.cutoff_2_day,cutoff_2_time:n.ordersCutoff.cutoff_2_time?n.ordersCutoff.cutoff_2_time.substring(0,5):null,days_covered_2:n.ordersCutoff.days_covered_2||[]}),p=j(()=>{const v=["GSI-B","GSI-P","PUL-O"],e=[],x=[],s=[...n.variants].sort();for(const a of s)v.some(T=>a.startsWith(T))?e.push({value:a,label:a}):x.push({value:a,label:a});return{suppliers:e,others:x}}),y=[{id:1,name:"Monday"},{id:2,name:"Tuesday"},{id:3,name:"Wednesday"},{id:4,name:"Thursday"},{id:5,name:"Friday"},{id:6,name:"Saturday"},{id:7,name:"Sunday"}],U=()=>{r.processing||(g.value=!1,r.post(route("orders-cutoff.update",n.ordersCutoff.id),{onSuccess:()=>{S.add({severity:"success",summary:"Success!",detail:"Order cutoff has been updated.",life:3e3})}}))};return(v,e)=>{const x=M("Layout");return i(),d(c,null,[f(o(N),{title:"Edit Order Cutoff"}),f(x,{heading:"Edit Order Cutoff"},{default:b(()=>[f(o(P)),f(o(A),{visible:g.value,"onUpdate:visible":e[1]||(e[1]=s=>g.value=s),modal:"",header:"Confirmation",style:{width:"25rem"}},{footer:b(()=>[f(o(h),{label:"Cancel",severity:"secondary",onClick:e[0]||(e[0]=s=>g.value=!1),autofocus:""}),f(o(h),{label:"Update",severity:"info",onClick:U,loading:o(r).processing},null,8,["loading"])]),default:b(()=>[e[11]||(e[11]=t("div",{class:"flex items-center"},[t("i",{class:"pi pi-exclamation-triangle mr-3",style:{"font-size":"2rem"}}),t("span",null,"Are you sure you want to update this schedule?")],-1))]),_:1},8,["visible"]),t("div",z,[t("div",F,[t("form",{onSubmit:e[10]||(e[10]=B(()=>{},["prevent"])),class:"space-y-8"},[t("div",null,[e[13]||(e[13]=t("label",{for:"ordering_template",class:"block text-sm font-medium leading-6 text-gray-900"},"Ordering Template (Variant)",-1)),m(t("select",{id:"ordering_template","onUpdate:modelValue":e[2]||(e[2]=s=>o(r).ordering_template=s),class:"mt-2 block w-full rounded-md border-0 py-1.5 pl-3 pr-10 text-gray-900 ring-1 ring-inset ring-gray-300 focus:ring-2 focus:ring-indigo-600 sm:text-sm sm:leading-6"},[e[12]||(e[12]=t("option",{disabled:"",value:""},"Please select one",-1)),p.value.suppliers.length>0?(i(),d("optgroup",G,[(i(!0),d(c,null,_(p.value.suppliers,s=>(i(),d("option",{key:s.value,value:s.value},l(s.label),9,W))),128))])):u("",!0),p.value.others.length>0?(i(),d("optgroup",I,[(i(!0),d(c,null,_(p.value.others,s=>(i(),d("option",{key:s.value,value:s.value},l(s.label),9,Z))),128))])):u("",!0)],512),[[k,o(r).ordering_template]]),o(r).errors.ordering_template?(i(),d("p",q,l(o(r).errors.ordering_template),1)):u("",!0)]),t("div",H,[e[17]||(e[17]=t("h2",{class:"text-base font-semibold text-gray-900"},"Cutoff 1",-1)),t("div",J,[t("div",K,[e[14]||(e[14]=t("label",{for:"cutoff_1_day",class:"block text-sm font-medium leading-6 text-gray-900"},"Day",-1)),m(t("select",{id:"cutoff_1_day","onUpdate:modelValue":e[3]||(e[3]=s=>o(r).cutoff_1_day=s),class:"mt-2 block w-full rounded-md border-0 py-1.5 pl-3 pr-10 text-gray-900 ring-1 ring-inset ring-gray-300 focus:ring-2 focus:ring-indigo-600 sm:text-sm sm:leading-6"},[(i(),d(c,null,_(y,s=>t("option",{key:s.id,value:s.id},l(s.name),9,Q)),64))],512),[[k,o(r).cutoff_1_day]]),o(r).errors.cutoff_1_day?(i(),d("p",R,l(o(r).errors.cutoff_1_day),1)):u("",!0)]),t("div",X,[e[15]||(e[15]=t("label",{for:"cutoff_1_time",class:"block text-sm font-medium leading-6 text-gray-900"},"Time",-1)),m(t("input",{type:"time",id:"cutoff_1_time","onUpdate:modelValue":e[4]||(e[4]=s=>o(r).cutoff_1_time=s),class:"mt-2 block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,512),[[C,o(r).cutoff_1_time]]),o(r).errors.cutoff_1_time?(i(),d("p",Y,l(o(r).errors.cutoff_1_time),1)):u("",!0)]),t("div",ee,[e[16]||(e[16]=t("label",{class:"block text-sm font-medium leading-6 text-gray-900"},"Days Covered",-1)),t("fieldset",te,[t("div",se,[(i(),d(c,null,_(y,s=>t("div",{key:s.id,class:"flex items-center"},[m(t("input",{id:`day_1_${s.id}`,value:s.id,"onUpdate:modelValue":e[5]||(e[5]=a=>o(r).days_covered_1=a),type:"checkbox",class:"h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-600"},null,8,oe),[[w,o(r).days_covered_1]]),t("label",{for:`day_1_${s.id}`,class:"ml-2 block text-sm text-gray-900"},l(s.name),9,re)])),64))]),o(r).errors.days_covered_1?(i(),d("p",ie,l(o(r).errors.days_covered_1),1)):u("",!0)])])])]),t("div",de,[e[22]||(e[22]=t("h2",{class:"text-base font-semibold text-gray-900"},"Cutoff 2 (Optional)",-1)),t("div",le,[t("div",ne,[e[19]||(e[19]=t("label",{for:"cutoff_2_day",class:"block text-sm font-medium leading-6 text-gray-900"},"Day",-1)),m(t("select",{id:"cutoff_2_day","onUpdate:modelValue":e[6]||(e[6]=s=>o(r).cutoff_2_day=s),class:"mt-2 block w-full rounded-md border-0 py-1.5 pl-3 pr-10 text-gray-900 ring-1 ring-inset ring-gray-300 focus:ring-2 focus:ring-indigo-600 sm:text-sm sm:leading-6"},[e[18]||(e[18]=t("option",{value:null},"N/A",-1)),(i(),d(c,null,_(y,s=>t("option",{key:s.id,value:s.id},l(s.name),9,ae)),64))],512),[[k,o(r).cutoff_2_day]]),o(r).errors.cutoff_2_day?(i(),d("p",ue,l(o(r).errors.cutoff_2_day),1)):u("",!0)]),t("div",fe,[e[20]||(e[20]=t("label",{for:"cutoff_2_time",class:"block text-sm font-medium leading-6 text-gray-900"},"Time",-1)),m(t("input",{type:"time",id:"cutoff_2_time","onUpdate:modelValue":e[7]||(e[7]=s=>o(r).cutoff_2_time=s),class:"mt-2 block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,512),[[C,o(r).cutoff_2_time]]),o(r).errors.cutoff_2_time?(i(),d("p",me,l(o(r).errors.cutoff_2_time),1)):u("",!0)]),t("div",ce,[e[21]||(e[21]=t("label",{class:"block text-sm font-medium leading-6 text-gray-900"},"Days Covered",-1)),t("fieldset",_e,[t("div",ge,[(i(),d(c,null,_(y,s=>t("div",{key:s.id,class:"flex items-center"},[m(t("input",{id:`day_2_${s.id}`,value:s.id,"onUpdate:modelValue":e[8]||(e[8]=a=>o(r).days_covered_2=a),type:"checkbox",class:"h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-600"},null,8,pe),[[w,o(r).days_covered_2]]),t("label",{for:`day_2_${s.id}`,class:"ml-2 block text-sm text-gray-900"},l(s.name),9,ye)])),64))]),o(r).errors.days_covered_2?(i(),d("p",xe,l(o(r).errors.days_covered_2),1)):u("",!0)])])])]),t("div",be,[f(o(E),{href:v.route("orders-cutoff.index"),class:"inline-flex items-center justify-center px-6 py-2 border border-gray-300 text-base font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"},{default:b(()=>e[23]||(e[23]=[L(" Cancel ")])),_:1},8,["href"]),t("button",{onClick:e[9]||(e[9]=s=>g.value=!0),type:"button",disabled:o(r).processing,class:"inline-flex items-center justify-center px-6 py-2 border border-transparent text-base font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50"}," Update ",8,ve)])],32)])])]),_:1})],64)}}};export{Ce as default};
