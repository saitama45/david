import{D as N,l as q,r as A,o as l,c as I,w as T,g as t,u as d,N as L,a as y,b as p,t as s,d as i,b0 as D,h as u,n as b,e as H,F as B}from"./app-rjK1ng7o.js";import{C as F}from"./chevron-left-CEk8dY0_.js";/**
 * @license lucide-vue-next v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M=N("FileTextIcon",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]),S={class:"mb-6"},P={class:"flex items-center justify-between"},V={class:"flex items-center gap-4"},j={class:"text-gray-600"},O={class:"flex items-center gap-3"},z={class:"bg-white rounded-xl border border-gray-200 shadow-sm p-6 mb-6"},R={class:"flex items-center justify-between mb-4"},E={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4"},Q={class:"bg-gray-50 rounded-lg p-4"},U={class:"text-lg font-semibold text-gray-900"},W={class:"bg-gray-50 rounded-lg p-4"},$={class:"text-lg font-semibold text-gray-900"},Z={class:"bg-gray-50 rounded-lg p-4"},G={class:"text-lg font-semibold text-gray-900"},J={class:"bg-gray-50 rounded-lg p-4"},K={class:"text-lg font-semibold text-gray-900"},X={class:"mt-4 text-sm text-gray-600"},Y={class:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden"},tt={class:"overflow-x-auto"},et={class:"min-w-full"},st={class:"bg-white divide-y divide-gray-100"},ot={key:0,class:"hover:bg-gray-50"},at={colspan:"6",class:"text-center py-12 text-gray-500"},rt={class:"flex flex-col items-center"},lt={class:"px-6 py-4 text-sm font-mono text-gray-900"},nt=["title"],dt={class:"px-6 py-4 text-sm text-center font-medium text-gray-900"},it={class:"text-xs text-gray-500 ml-1"},gt={class:"px-6 py-4 text-sm text-right font-medium text-gray-900"},xt={class:"px-6 py-4 text-sm text-right font-semibold text-gray-900"},ct=["title"],mt={key:0,class:"bg-gray-50 border-t-2 border-gray-200"},yt={colspan:"2",class:"px-6 py-4 text-center font-semibold text-gray-900"},pt={class:"px-6 py-4 text-right font-semibold text-gray-900"},ft={__name:"Show",props:{wastage:{type:Object,required:!0},items:{type:Array,required:!0},permissions:{type:Object,required:!0}},setup(r){const c=r,{hasAccess:_}=useAuth(),g=o=>o?new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(o):"â‚±0.00",m=o=>o?new Intl.NumberFormat("en-PH").format(o):"0",x=o=>{const e={pending:{bg:"bg-gray-50 border-gray-200",text:"text-gray-700",dot:"bg-gray-400",label:"Pending"},approved_lvl1:{bg:"bg-blue-50 border-blue-200",text:"text-blue-700",dot:"bg-blue-400",label:"Approved Level 1"},approved_lvl2:{bg:"bg-green-50 border-green-200",text:"text-green-700",dot:"bg-green-400",label:"Approved Level 2"},cancelled:{bg:"bg-red-50 border-red-200",text:"text-red-700",dot:"bg-red-400",label:"Cancelled"}};return e[o]||e.pending},n=q(()=>({qty:c.items.reduce((o,e)=>o+(e.wastage_qty||0),0),cost:c.items.reduce((o,e)=>o+(e.wastage_qty||0)*(e.cost||0),0),items:c.items.length}));return(o,e)=>{const k=A("Layout");return l(),I(k,null,{default:T(()=>[t("div",S,[t("div",P,[t("div",V,[t("button",{onClick:e[0]||(e[0]=a=>d(L).back()),class:"flex items-center gap-2 text-gray-600 hover:text-gray-900 transition-colors"},[y(d(F),{class:"w-5 h-5"}),e[2]||(e[2]=p(" Back to Report "))]),t("div",null,[e[3]||(e[3]=t("h1",{class:"text-2xl font-bold text-gray-900"},"Wastage Report Details",-1)),t("p",j,"Wastage #"+s(r.wastage.wastage_no),1)])]),t("div",O,[d(_)("export wastage report")?(l(),i("button",{key:0,onClick:e[1]||(e[1]=a=>o.window.open(o.route("reports.wastage-report.export"))),class:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors"},[y(d(D),{class:"w-4 h-4"}),e[4]||(e[4]=p(" Export "))])):u("",!0)])])]),t("div",z,[t("div",R,[e[5]||(e[5]=t("h2",{class:"text-lg font-semibold text-gray-900"},"Summary",-1)),t("div",{class:b(["inline-flex items-center gap-2 px-3 py-1 rounded-full border text-xs font-medium",x(r.wastage.status).bg])},[t("div",{class:b(["w-2 h-2 rounded-full",x(r.wastage.status).dot])},null,2),t("span",{class:b(x(r.wastage.status).text)},s(x(r.wastage.status).label),3)],2)]),t("div",E,[t("div",Q,[e[6]||(e[6]=t("p",{class:"text-sm text-gray-600 mb-1"},"Store",-1)),t("p",U,s(r.wastage.store||"N/A"),1)]),t("div",W,[e[7]||(e[7]=t("p",{class:"text-sm text-gray-600 mb-1"},"Total Quantity",-1)),t("p",$,s(m(n.value.qty)),1)]),t("div",Z,[e[8]||(e[8]=t("p",{class:"text-sm text-gray-600 mb-1"},"Number of Items",-1)),t("p",G,s(n.value.items),1)]),t("div",J,[e[9]||(e[9]=t("p",{class:"text-sm text-gray-600 mb-1"},"Total Cost",-1)),t("p",K,s(g(n.value.cost)),1)])]),t("div",X,[t("p",null,"Created: "+s(r.wastage.formatted_date||"N/A"),1)])]),t("div",Y,[e[16]||(e[16]=t("div",{class:"px-6 py-4 border-b border-gray-200"},[t("h2",{class:"text-lg font-semibold text-gray-900"},"Items")],-1)),t("div",tt,[t("table",et,[e[15]||(e[15]=t("thead",{class:"bg-gray-50 border-b border-gray-200"},[t("tr",{class:"text-xs text-gray-500 uppercase tracking-wider"},[t("th",{class:"px-6 py-4 text-left font-medium"},"Item Code"),t("th",{class:"px-6 py-4 text-left font-medium"},"Description"),t("th",{class:"px-6 py-4 text-center font-medium"},"Quantity"),t("th",{class:"px-6 py-4 text-right font-medium"},"Unit Cost"),t("th",{class:"px-6 py-4 text-right font-medium"},"Total Cost"),t("th",{class:"px-6 py-4 text-left font-medium"},"Reason")])],-1)),t("tbody",st,[r.items.length===0?(l(),i("tr",ot,[t("td",at,[t("div",rt,[y(d(M),{class:"w-12 h-12 text-gray-300 mb-3"}),e[10]||(e[10]=t("span",{class:"text-lg font-medium"},"No items found",-1)),e[11]||(e[11]=t("span",{class:"text-sm text-gray-400 mt-1"},"This wastage record has no items",-1))])])])):u("",!0),(l(!0),i(B,null,H(r.items,(a,C)=>{var f,h,v,w;return l(),i("tr",{key:C,class:"hover:bg-gray-50 transition-colors"},[t("td",lt,s(((f=a.sap_masterfile)==null?void 0:f.ItemCode)||"N/A"),1),t("td",{class:"px-6 py-4 text-sm text-gray-900 max-w-xs truncate",title:(h=a.sap_masterfile)==null?void 0:h.ItemDescription},s(((v=a.sap_masterfile)==null?void 0:v.ItemDescription)||"N/A"),9,nt),t("td",dt,[p(s(m(a.wastage_qty||0))+" ",1),t("span",it,s(((w=a.sap_masterfile)==null?void 0:w.BaseUOM)||"N/A"),1)]),t("td",gt,s(g(a.cost||0)),1),t("td",xt,s(g((a.wastage_qty||0)*(a.cost||0))),1),t("td",{class:"px-6 py-4 text-sm text-gray-600 max-w-xs truncate",title:a.reason},s(a.reason||"N/A"),9,ct)])}),128))]),r.items.length>0?(l(),i("tfoot",mt,[t("tr",null,[e[12]||(e[12]=t("th",{class:"px-6 py-4 text-left font-semibold text-gray-900"},"TOTAL",-1)),t("th",yt,s(m(n.value.qty)),1),e[13]||(e[13]=t("th",{class:"px-6 py-4 text-right font-semibold text-gray-900"},"-",-1)),t("th",pt,s(g(n.value.cost)),1),e[14]||(e[14]=t("th",{class:"px-6 py-4 text-left"},null,-1))])])):u("",!0)])])])]),_:1})}}};export{ft as default};
