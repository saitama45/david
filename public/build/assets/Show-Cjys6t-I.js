import{a1 as U,l,o as c,c as v,w as n,q as V,a5 as F,u as s,a6 as H,ak as K,al as W,d as q,n as X,as as P,t as d,h as x,Y as ee,r as te,a,b as _,N as z,aA as j,g as r,aL as $,aM as B,au as re,aN as I,aQ as T,e as se,aZ as oe,F as ae,bo as ne}from"./app-Bp7xdNcv.js";import{_ as ie,a as le,b as E,c as k,d as de,e as N}from"./TableHeader-DmwgdUbH.js";import ue from"./TransferStatusBadge-BHYO3dtt.js";import ce from"./TransferSummary-B8HmlCRK.js";import me from"./TransferTimeline-ByTSN7HE.js";import{A as _e}from"./arrow-left-Bx8aOM0-.js";import{S as fe}from"./square-pen-BXz0dBaO.js";import{P as A}from"./package-8PI2OvT-.js";import{C as R}from"./clock-CRAPMzg8.js";import{C as L}from"./circle-x-ya5U_PzQ.js";import{C as pe}from"./circle-alert-C3QluIzK.js";import"./VisuallyHidden-CFaLkp8s.js";import"./check-BwKSpPgY.js";import"./calendar-iIJQHMiE.js";var ve=U({__name:"BaseSeparator",props:{orientation:{type:String,required:!1,default:"horizontal"},decorative:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(u){const t=u,g=["horizontal","vertical"];function f(p){return g.includes(p)}const y=l(()=>f(t.orientation)?t.orientation:"horizontal"),C=l(()=>y.value==="vertical"?t.orientation:void 0),w=l(()=>t.decorative?{role:"none"}:{"aria-orientation":C.value,role:"separator"});return(p,h)=>(c(),v(s(H),F({as:p.as,"as-child":p.asChild,"data-orientation":y.value},w.value),{default:n(()=>[V(p.$slots,"default")]),_:3},16,["as","as-child","data-orientation"]))}}),ge=ve,ye=U({__name:"Separator",props:{orientation:{type:String,required:!1,default:"horizontal"},decorative:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(u){const t=u;return(g,f)=>(c(),v(ge,K(W(t)),{default:n(()=>[V(g.$slots,"default")]),_:3},16))}}),xe=ye;const be={__name:"Separator",props:{orientation:{type:String,required:!1},decorative:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1},label:{type:String,required:!1}},setup(u){const t=u,g=l(()=>{const{class:f,...y}=t;return y});return(f,y)=>(c(),v(s(xe),F(g.value,{class:s(P)("shrink-0 bg-border relative",t.orientation==="vertical"?"w-px h-full":"h-px w-full",t.class)}),{default:n(()=>[t.label?(c(),q("span",{key:0,class:X(s(P)("text-xs text-muted-foreground bg-background absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 flex justify-center items-center",t.orientation==="vertical"?"w-[1px] px-1 py-2":"h-[1px] py-1 px-2"))},d(t.label),3)):x("",!0)]),_:1},16,["class"]))}},Se={class:"grid gap-6"},he={class:"grid lg:grid-cols-3 gap-6"},ke={class:"space-y-6"},Ne={class:"space-y-3"},qe={class:"font-mono text-lg"},Ce={class:"space-y-2"},we={class:"flex items-start gap-3"},$e={class:"w-8 h-8 rounded-full bg-red-100 flex items-center justify-center flex-shrink-0 mt-0.5"},Be={class:"font-medium"},Ie={class:"text-xs text-muted-foreground"},Te={class:"flex items-start gap-3"},Ae={class:"w-8 h-8 rounded-full bg-green-100 flex items-center justify-center flex-shrink-0 mt-0.5"},Me={class:"font-medium"},De={class:"text-xs text-muted-foreground"},Oe={class:"lg:col-span-2 space-y-6"};const Pe={class:"font-medium"},ze={class:"font-medium"},je={class:"flex items-center gap-2"},Ee={class:"font-medium"},Re={key:0,class:"text-xs text-orange-600"},Le={class:"mt-4 pt-4 border-t"},Ue={class:"flex justify-between items-center"},Ve={class:"text-sm font-medium"},Fe={class:"text-sm"},Qe={key:0},Ge={class:"text-sm"},Je={__name:"Show",props:{order:Object,permissions:Object},setup(u){const t=u,g=l(()=>t.order.interco_number||"N/A"),f=l(()=>t.order.interco_status||"open"),y=l(()=>{var o,e,m;return console.log("Show.vue order data:",{from_store_name:t.order.from_store_name,sendingStore:t.order.sendingStore,has_serialized_name:!!t.order.from_store_name}),t.order.from_store_name||((o=t.order.sendingStore)==null?void 0:o.name)||((e=t.order.sendingStore)==null?void 0:e.branch_name)||((m=t.order.sendingStore)==null?void 0:m.brand_name)||"Unknown Sending Store"}),C=l(()=>{var o,e;return t.order.to_store_name||((o=t.order.store_branch)==null?void 0:o.name)||((e=t.order.store_branch)==null?void 0:e.branch_name)||"Unknown Receiving Store"});l(()=>t.order.created_at);const w=l(()=>t.order.interco_reason||"No reason provided"),p=l(()=>t.order.remarks||"No remarks"),h=l(()=>{var e;if(!((e=t.order)!=null&&e.store_order_items)||!Array.isArray(t.order.store_order_items))return 0;const o=t.order.store_order_items.reduce((m,i)=>m+(Number(i.quantity_ordered)||0),0);return Number(o)||0}),M=l(()=>{var e;if(!((e=t.order)!=null&&e.store_order_items)||!Array.isArray(t.order.store_order_items))return 0;const o=t.order.store_order_items.reduce((m,i)=>m+(Number(i.quantity_received)||0),0);return Number(o)||0});l(()=>{const o=h.value||0,e=M.value||0;return Math.max(0,o-e)}),l(()=>{const o=h.value||0,e=M.value||0;return o===0?0:e/o*100});const Q=l(()=>t.permissions.can_edit&&f.value==="open");l(()=>t.permissions.can_approve&&f.value==="open"),l(()=>t.permissions.can_commit&&f.value==="approved");const G=(o,e=2)=>o==null||isNaN(o)?"0.00":Number(o).toFixed(e),J=o=>{var e,m;return console.log("Getting description for item:",o.item_code,"UOM:",o.uom),console.log("Available description data:",{item_description:o.item_description,sapMasterfile:o.sapMasterfile}),o.item_description||((e=o.sapMasterfile)==null?void 0:e.ItemDescription)||((m=o.sapMasterfile)==null?void 0:m.ItemName)||"Description not available"},D=o=>o.item_uom||o.uom||"",Y=o=>({open:R,approved:L,committed:A,in_transit:ne,received:L,disapproved:pe})[o]||R,Z=()=>{z.get(route("interco.edit",t.order.id))};return(o,e)=>{const m=te("Layout");return c(),v(m,{heading:"Transfer Details"},{actions:n(()=>[a(s(j),{variant:"outline",onClick:e[0]||(e[0]=i=>s(z).get(o.route("interco.index")))},{default:n(()=>[a(s(_e),{class:"w-4 h-4 mr-2"}),e[1]||(e[1]=_(" Back to Transfers "))]),_:1}),Q.value?(c(),v(s(j),{key:0,onClick:Z},{default:n(()=>[a(s(fe),{class:"w-4 h-4 mr-2"}),e[2]||(e[2]=_(" Edit Transfer "))]),_:1})):x("",!0)]),default:n(()=>[r("div",Se,[a(ce,{transfer:u.order},null,8,["transfer"]),r("div",he,[r("div",ke,[a(s(T),null,{default:n(()=>[a(s($),null,{default:n(()=>[a(s(B),{class:"flex items-center gap-2"},{default:n(()=>[(c(),v(re(Y(f.value)),{class:"w-5 h-5"})),e[3]||(e[3]=_(" Transfer Information "))]),_:1})]),_:1}),a(s(I),{class:"space-y-4"},{default:n(()=>{var i,b,S,O;return[r("div",Ne,[r("div",null,[e[4]||(e[4]=r("p",{class:"text-sm font-medium text-muted-foreground"},"Transfer Number",-1)),r("p",qe,d(g.value),1)]),r("div",null,[e[5]||(e[5]=r("p",{class:"text-sm font-medium text-muted-foreground"},"Status",-1)),a(ue,{status:f.value},null,8,["status"])]),a(s(be)),r("div",null,[e[8]||(e[8]=r("p",{class:"text-sm font-medium text-muted-foreground mb-2"},"Stores",-1)),r("div",Ce,[r("div",we,[r("div",$e,[a(s(A),{class:"w-4 h-4 text-red-600"})]),r("div",null,[e[6]||(e[6]=r("p",{class:"text-xs text-muted-foreground"},"From",-1)),r("p",Be,d(y.value),1),r("p",Ie,d(((i=u.order.sendingStore)==null?void 0:i.branch_code)||((b=u.order.sendingStore)==null?void 0:b.code)||""),1)])]),r("div",Te,[r("div",Ae,[a(s(A),{class:"w-4 h-4 text-green-600"})]),r("div",null,[e[7]||(e[7]=r("p",{class:"text-xs text-muted-foreground"},"To",-1)),r("p",Me,d(C.value),1),r("p",De,d(((S=u.order.store_branch)==null?void 0:S.branch_code)||((O=u.order.store_branch)==null?void 0:O.code)||""),1)])])])])])]}),_:1})]),_:1}),a(me,{transfer:u.order},null,8,["transfer"])]),r("div",Oe,[a(s(T),null,{default:n(()=>[a(s($),null,{default:n(()=>[a(s(B),null,{default:n(()=>e[9]||(e[9]=[_("Transfer Items")])),_:1})]),_:1}),a(s(I),null,{default:n(()=>[a(s(ie),null,{default:n(()=>[a(s(le),null,{default:n(()=>[a(s(E),null,{default:n(()=>[a(s(k),null,{default:n(()=>e[10]||(e[10]=[_("Item Code")])),_:1}),a(s(k),null,{default:n(()=>e[11]||(e[11]=[_("Description")])),_:1}),a(s(k),null,{default:n(()=>e[12]||(e[12]=[_("Quantity")])),_:1}),a(s(k),null,{default:n(()=>e[13]||(e[13]=[_("Received")])),_:1})]),_:1})]),_:1}),a(s(de),null,{default:n(()=>[(c(!0),q(ae,null,se(u.order.store_order_items,i=>(c(),v(s(E),{key:i.id},{default:n(()=>[a(s(N),{class:"font-medium"},{default:n(()=>{var b,S;return[_(d(((b=i.sapMasterfile)==null?void 0:b.ItemCode)||((S=i.sapMasterfile)==null?void 0:S.item_code)||i.item_code||"N/A"),1)]}),_:2},1024),a(s(N),null,{default:n(()=>[r("div",null,[x("",!0),r("p",Pe,d(J(i)),1),D(i)?(c(),v(s(oe),{key:1,variant:"outline",class:"text-xs mt-1"},{default:n(()=>[_(d(D(i)),1)]),_:2},1024)):x("",!0)])]),_:2},1024),a(s(N),null,{default:n(()=>[r("span",ze,d(i.quantity_ordered||0),1)]),_:2},1024),a(s(N),null,{default:n(()=>[r("div",je,[r("span",Ee,d(i.quantity_received||0),1),i.quantity_received>0&&i.quantity_received<i.quantity_ordered?(c(),q("span",Re," ("+d(i.quantity_ordered-i.quantity_received)+" pending) ",1)):x("",!0)])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1}),r("div",Le,[r("div",Ue,[r("span",Ve,"Total Quantity: "+d(G(h.value)),1)])])]),_:1})]),_:1}),a(s(T),null,{default:n(()=>[a(s($),null,{default:n(()=>[a(s(B),null,{default:n(()=>e[14]||(e[14]=[_("Additional Information")])),_:1})]),_:1}),a(s(I),{class:"space-y-4"},{default:n(()=>[r("div",null,[e[15]||(e[15]=r("p",{class:"text-sm font-medium text-muted-foreground mb-2"},"Reason for Transfer",-1)),r("p",Fe,d(w.value),1)]),p.value&&p.value!=="No remarks"?(c(),q("div",Qe,[e[16]||(e[16]=r("p",{class:"text-sm font-medium text-muted-foreground mb-2"},"Remarks",-1)),r("p",Ge,d(p.value),1)])):x("",!0)]),_:1})]),_:1})])])])]),_:1})}}},lt=ee(Je,[["__scopeId","data-v-9d97cdbb"]]);export{lt as default};
