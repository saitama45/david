import{x as b,G as ae,T as se,l as ue,r as l,o as r,c as T,w as t,a as e,u,i as de,b as a,d as x,e as L,t as d,F as H,g as _,h as re,N as k}from"./app-Bw_fMWAP.js";import{u as ie}from"./useSearch-Cd1k-Yv4.js";import{u as ce}from"./useReferenceDelete-DwjgMHj7.js";import"./lodash-Cj3gZpb5.js";const me={class:"space-y-5"},_e={class:"flex flex-col space-y-1"},pe={class:"flex flex-col space-y-1"},fe={class:"flex justify-end"},xe={__name:"Index",props:{data:{type:Object,required:!0}},setup(g){const C=b(!1),E=ae(),M=b(!1),s=se({name:null,remarks:null}),R=b(null),I=()=>{s.post(route("branches.update",R.value),{preserveScroll:!0,onSuccess:()=>{E.add({severity:"success",summary:"Success",detail:"Category Details Updated Successfully.",life:5e3}),s.reset(),C.value=!1}})},{search:p}=ie("branches.index"),D=i=>{k.get(route("branches.edit",i))},v=i=>{k.get(route("branches.show",i))},U=()=>{k.get(route("branches.create"))},{deleteModel:$}=ce(),F=ue(()=>route("branches.export",{search:p.value}));return(i,o)=>{const B=l("Input"),j=l("SearchBar"),P=l("TableHeader"),c=l("TH"),X=l("TableHead"),m=l("TD"),y=l("ShowButton"),S=l("EditButton"),q=l("DeleteButton"),A=l("TableBody"),G=l("Table"),O=l("MobileTableHeading"),V=l("LabelXS"),z=l("MobileTableRow"),J=l("MobileTableContainer"),K=l("Pagination"),Q=l("TableContainer"),W=l("DialogTitle"),Y=l("DialogDescription"),Z=l("DialogHeader"),N=l("Label"),w=l("FormError"),h=l("Textarea"),ee=l("Loading"),te=l("Button"),oe=l("DialogContent"),le=l("Dialog"),ne=l("Layout");return r(),T(ne,{heading:"Store Branches",hasButton:!0,handleClick:U,buttonName:"Create New Store Branch",hasExcelDownload:!0,exportRoute:F.value},{default:t(()=>[e(Q,null,{default:t(()=>[e(P,null,{default:t(()=>[e(j,null,{default:t(()=>[e(B,{class:"pl-10",modelValue:u(p),"onUpdate:modelValue":o[0]||(o[0]=n=>de(p)?p.value=n:null),placeholder:"Search..."},null,8,["modelValue"])]),_:1})]),_:1}),e(G,null,{default:t(()=>[e(X,null,{default:t(()=>[e(c,null,{default:t(()=>o[4]||(o[4]=[a(" Id ")])),_:1}),e(c,null,{default:t(()=>o[5]||(o[5]=[a(" Name")])),_:1}),e(c,null,{default:t(()=>o[6]||(o[6]=[a(" Branch Code")])),_:1}),e(c,null,{default:t(()=>o[7]||(o[7]=[a(" Location Code")])),_:1}),e(c,null,{default:t(()=>o[8]||(o[8]=[a(" Actions ")])),_:1})]),_:1}),e(A,null,{default:t(()=>[(r(!0),x(H,null,L(g.data.data,n=>(r(),x("tr",{key:n.id},[e(m,null,{default:t(()=>[a(d(n.id),1)]),_:2},1024),e(m,null,{default:t(()=>[a(d(n.name),1)]),_:2},1024),e(m,null,{default:t(()=>[a(d(n.branch_code),1)]),_:2},1024),e(m,null,{default:t(()=>[a(d(n.location_code??"N/a"),1)]),_:2},1024),e(m,null,{default:t(()=>[e(y,{onClick:f=>v(n.id)},null,8,["onClick"]),e(S,{onClick:f=>D(n.id)},null,8,["onClick"]),e(q,{onClick:f=>u($)(i.route("branches.destroy",n.id),"Branch")},null,8,["onClick"])]),_:2},1024)]))),128))]),_:1})]),_:1}),e(J,null,{default:t(()=>[(r(!0),x(H,null,L(g.data.data,n=>(r(),T(z,{key:n.id},{default:t(()=>[e(O,{title:n.name},{default:t(()=>[e(y,{onClick:f=>v(n.id)},null,8,["onClick"]),e(S,{onClick:f=>D(n.id)},null,8,["onClick"])]),_:2},1032,["title"]),e(V,null,{default:t(()=>[a(d(n.branch_code),1)]),_:2},1024),e(V,null,{default:t(()=>[a(d(n.location_code??"N/a"),1)]),_:2},1024)]),_:2},1024))),128))]),_:1}),e(K,{data:g.data},null,8,["data"])]),_:1}),e(le,{open:C.value,"onUpdate:open":o[3]||(o[3]=n=>C.value=n)},{default:t(()=>[e(oe,{class:"sm:max-w-[425px]"},{default:t(()=>[e(Z,null,{default:t(()=>[e(W,null,{default:t(()=>o[9]||(o[9]=[a("Edit Category Details")])),_:1}),e(Y,null,{default:t(()=>o[10]||(o[10]=[a(" Input all important fields. ")])),_:1})]),_:1}),_("div",me,[_("div",_e,[e(N,{class:"text-xs"},{default:t(()=>o[11]||(o[11]=[a("Name")])),_:1}),e(B,{modelValue:u(s).name,"onUpdate:modelValue":o[1]||(o[1]=n=>u(s).name=n)},null,8,["modelValue"]),e(w,null,{default:t(()=>[a(d(u(s).errors.name),1)]),_:1})]),_("div",pe,[e(N,{class:"text-xs"},{default:t(()=>o[12]||(o[12]=[a("Remarks")])),_:1}),e(h,{modelValue:u(s).remarks,"onUpdate:modelValue":o[2]||(o[2]=n=>u(s).remarks=n)},null,8,["modelValue"]),e(w,null,{default:t(()=>[a(d(u(s).errors.remarks),1)]),_:1})]),_("div",fe,[e(te,{onClick:I,class:"gap-2"},{default:t(()=>[o[13]||(o[13]=a(" Save Changes ")),_("span",null,[M.value?(r(),T(ee,{key:0})):re("",!0)])]),_:1})])])]),_:1})]),_:1},8,["open"])]),_:1},8,["exportRoute"])}}};export{xe as default};
