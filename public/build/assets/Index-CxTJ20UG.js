import{x as J,Q as U,N as A,y as q,r as n,o as i,d as p,a as t,u as g,Z as X,w as e,n as m,b as a,t as o,g as y,h as w,F as D,e as O,B as L,c as G}from"./app-Drfr7wPO.js";import{l as Z}from"./lodash-IPPPM5x9.js";import{u as K}from"./useAuth-CGUY0YG2.js";const W={class:"hidden md:block"},Y={key:0},tt={class:"font-semibold text-blue-600"},et=["onClick"],lt=["onClick"],st={class:"font-semibold text-blue-600"},rt={__name:"Index",props:{batches:{type:Object,default:()=>({data:[]})},filters:{type:Object,default:()=>({})},counts:{type:Object,default:()=>({})}},setup(u){var M;const{hasAccess:N}=K();let T=J((((M=U().props.filters)==null?void 0:M.filterQuery)||"approved").toString());const F=Z.throttle(()=>{A.get(route("cs-dts-mass-commits.index"),{filterQuery:T.value},{preserveState:!0,preserveScroll:!0,replace:!0})},500);q(T,F);const v=r=>{T.value=r},f=r=>T.value===r?"bg-primary text-white":"",k=r=>{switch(r==null?void 0:r.toUpperCase()){case"APPROVED":return"bg-teal-500 text-white";case"COMMITTED":return"bg-blue-500 text-white";case"INCOMPLETE":return"bg-orange-500 text-white";case"RECEIVED":return"bg-green-500 text-white";case"PENDING":return"bg-yellow-500 text-white";case"COMPLETED":return"bg-green-500 text-white";case"CANCELLED":return"bg-red-500 text-white";default:return"bg-gray-500 text-white"}},C=r=>{if(!r||!r.includes("-"))return"N/A";try{const[l,b,x]=r.substring(0,10).split("-");return`${["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][parseInt(b,10)-1]} ${parseInt(x,10)}, ${l}`}catch{return r}},E=r=>A.get(route("cs-dts-mass-commits.edit",r));return(r,l)=>{const b=n("Badge"),x=n("Button"),B=n("FilterTab"),d=n("TH"),P=n("TableHead"),c=n("TD"),S=n("DivFlexCenter"),V=n("TableBody"),I=n("Table"),$=n("MobileTableHeading"),_=n("LabelXS"),h=n("MobileTableRow"),H=n("MobileTableContainer"),Q=n("Pagination"),R=n("TableContainer"),j=n("Layout");return i(),p(D,null,[t(g(X),{title:"CS DTS Mass Commits"}),t(j,{heading:"CS DTS Mass Commits",hasButton:!1},{default:e(()=>[t(B,null,{default:e(()=>[t(x,{class:m(["sm:px-10 px-3 bg-white/10 text-gray-800 hover:text-white gap-5 sm:text-sm text-xs",f("all")]),onClick:l[0]||(l[0]=s=>v("all"))},{default:e(()=>[l[3]||(l[3]=a(" ALL ")),t(b,{class:m(["sm:flex hidden border border-gray bg-transparent text-gray-900 px-2",f("all")])},{default:e(()=>[a(o(u.counts.all||0),1)]),_:1},8,["class"])]),_:1},8,["class"]),t(x,{class:m(["sm:px-10 px-3 bg-white/10 text-gray-800 hover:text-white gap-5 sm:text-sm text-xs",f("approved")]),onClick:l[1]||(l[1]=s=>v("approved"))},{default:e(()=>[l[4]||(l[4]=a(" APPROVED ")),t(b,{class:m(["sm:flex hidden border border-gray bg-transparent text-gray-900 px-2",f("approved")])},{default:e(()=>[a(o(u.counts.approved||0),1)]),_:1},8,["class"])]),_:1},8,["class"]),t(x,{class:m(["sm:px-10 px-3 bg-white/10 text-gray-800 hover:text-white gap-5 sm:text-sm text-xs",f("committed")]),onClick:l[2]||(l[2]=s=>v("committed"))},{default:e(()=>[l[5]||(l[5]=a(" COMMITTED ")),t(b,{class:m(["sm:flex hidden border border-gray bg-transparent text-gray-900 px-2",f("committed")])},{default:e(()=>[a(o(u.counts.committed||0),1)]),_:1},8,["class"])]),_:1},8,["class"])]),_:1}),t(R,null,{default:e(()=>[y("div",W,[t(I,null,{default:e(()=>[t(P,null,{default:e(()=>[t(d,null,{default:e(()=>l[6]||(l[6]=[a("Batch #")])),_:1}),t(d,null,{default:e(()=>l[7]||(l[7]=[a("Variant")])),_:1}),t(d,null,{default:e(()=>l[8]||(l[8]=[a("Delivery Dates")])),_:1}),t(d,null,{default:e(()=>l[9]||(l[9]=[a("Total Orders")])),_:1}),t(d,null,{default:e(()=>l[10]||(l[10]=[a("Total Quantity")])),_:1}),t(d,null,{default:e(()=>l[11]||(l[11]=[a("Status")])),_:1}),t(d,null,{default:e(()=>l[12]||(l[12]=[a("Actions")])),_:1})]),_:1}),t(V,null,{default:e(()=>[!u.batches.data||u.batches.data.length===0?(i(),p("tr",Y,l[13]||(l[13]=[y("td",{colspan:"7",class:"text-center py-4"},"No mass orders found.",-1)]))):w("",!0),(i(!0),p(D,null,O(u.batches.data,s=>(i(),p("tr",{key:s.id},[t(c,null,{default:e(()=>[a(o(s.batch_number),1)]),_:2},1024),t(c,null,{default:e(()=>[y("span",tt,o(s.variant),1)]),_:2},1024),t(c,null,{default:e(()=>[a(o(C(s.date_from))+" - "+o(C(s.date_to)),1)]),_:2},1024),t(c,null,{default:e(()=>[a(o(s.total_orders),1)]),_:2},1024),t(c,null,{default:e(()=>[a(o(s.total_quantity),1)]),_:2},1024),t(c,null,{default:e(()=>[t(b,{class:m([k(s.status),"font-bold"])},{default:e(()=>[a(o(s.status?s.status.toUpperCase():"N/A"),1)]),_:2},1032,["class"])]),_:2},1024),t(c,null,{default:e(()=>[t(S,{class:"gap-3"},{default:e(()=>[g(N)("edit cs dts mass commit")&&s.can_edit?(i(),p("button",{key:0,class:"text-blue-500",onClick:z=>E(s.batch_number)},[t(g(L),{class:"size-5"})],8,et)):w("",!0)]),_:2},1024)]),_:2},1024)]))),128))]),_:1})]),_:1})]),t(H,{class:"md:hidden"},{default:e(()=>[(i(!0),p(D,null,O(u.batches.data,s=>(i(),G(h,{key:s.id},{default:e(()=>[t($,{title:s.batch_number},{default:e(()=>[g(N)("edit cs dts mass commit")&&s.can_edit?(i(),p("button",{key:0,class:"text-blue-500",onClick:z=>E(s.batch_number)},[t(g(L),{class:"size-5"})],8,lt)):w("",!0)]),_:2},1032,["title"]),t(_,null,{default:e(()=>[l[14]||(l[14]=a("Variant: ")),y("span",st,o(s.variant),1)]),_:2},1024),t(_,null,{default:e(()=>[a("Delivery Dates: "+o(C(s.date_from))+" - "+o(C(s.date_to)),1)]),_:2},1024),t(_,null,{default:e(()=>[a("Total Orders: "+o(s.total_orders),1)]),_:2},1024),t(_,null,{default:e(()=>[a("Total Quantity: "+o(s.total_quantity),1)]),_:2},1024),t(_,null,{default:e(()=>[l[15]||(l[15]=a("Status: ")),y("span",{class:m([k(s.status),"font-semibold p-1 rounded text-white"])},o(s.status?s.status.toUpperCase():"N/A"),3)]),_:2},1024)]),_:2},1024))),128))]),_:1}),t(Q,{data:u.batches},null,8,["data"])]),_:1})]),_:1})],64)}}};export{rt as default};
