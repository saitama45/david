import{D as J,Y as W,x as N,l as w,y as X,r as Z,o as i,c,w as a,g as n,u as t,aA as x,N as _,a as s,P as z,b as r,h,d as b,e as S,aQ as j,t as u,n as tt,bp as B,aN as A,F as $,aL as E,aM as M,_ as et,aB as st,aF as at,aG as lt,aH as nt,aK as P,E as Q,bu as ot}from"./app-DPA7xop8.js";import{_ as rt,a as ut,b as U,c as v,d as it,e as g}from"./TableHeader-ara02bzA.js";import q from"./TransferStatusBadge-C--JNcnl.js";import{S as dt}from"./search-C54wFmt-.js";import{S as G}from"./square-pen-BBOZKqAa.js";import"./VisuallyHidden-BIQTTYep.js";import"./clock-gdvRRjYx.js";import"./circle-x-DaAv8wgv.js";import"./package-Buz1PgiL.js";/**
 * @license lucide-vue-next v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ft=J("RotateCcwIcon",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]),mt={class:"flex gap-2"},ct={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6"},_t={class:"flex items-center justify-between"},vt={class:"text-sm font-medium text-muted-foreground"},gt={class:"w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center"},pt={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},xt={class:"relative"},bt={class:"flex gap-2"},yt={class:"text-sm text-muted-foreground"},ht={class:"hidden md:block"},kt={class:"flex justify-end gap-2"},wt={class:"flex items-center justify-between"},St={class:"flex items-center gap-2"},$t={class:"font-semibold text-sm"},Ct={class:"flex gap-1"},Tt={class:"grid grid-cols-2 gap-3 text-sm"},Nt={class:"font-medium"},jt={class:"font-medium"},At={class:"grid grid-cols-2 gap-3 text-sm"},Vt={class:"font-medium"},Ft={class:"font-medium"},Dt={class:"flex items-center justify-between text-sm"},It={class:"font-medium"},Lt={key:0,class:"text-center py-12"},Ot={class:"text-muted-foreground mb-4"},Rt={key:1,class:"mt-6"},zt={__name:"Index",props:{orders:Object,statistics:Object,filters:Object,statusOptions:Array,permissions:Object},setup(d){const y=d,p=N(y.filters.search||""),f=N(y.filters.status||"all"),k=N(""),C=w(()=>p.value||f.value&&f.value!=="all"||k.value),H=w(()=>{const o=y.statistics?y.statistics:{};return[{label:"Total Transfers",value:o.total?o.total:0,color:"text-blue-600"},{label:"Open",value:o.open?o.open:0,color:"text-gray-600"},{label:"In Transit",value:o.in_transit?o.in_transit:0,color:"text-purple-600"},{label:"Received",value:o.received?o.received:0,color:"text-green-600"}]}),K=()=>{const o={};p.value&&(o.search=p.value),f.value&&f.value!=="all"&&(o.status=f.value),k.value&&(o.date_range=k.value),_.get(route("interco.index"),o,{preserveState:!0,preserveScroll:!0})},Y=()=>{p.value="",f.value="all",k.value="",_.get(route("interco.index"),{},{preserveState:!0,preserveScroll:!0})},V=o=>o?new Date(o).toLocaleDateString("en-PH",{year:"numeric",month:"short",day:"numeric"}):"N/A",F=o=>{var e,m,l;return o.from_store_name||((e=o.sendingStore)==null?void 0:e.name)||((m=o.sendingStore)==null?void 0:m.branch_name)||((l=o.sendingStore)==null?void 0:l.brand_name)||"Unknown Sending Store"},D=o=>{var e,m;return o.to_store_name||((e=o.store_branch)==null?void 0:e.name)||((m=o.store_branch)==null?void 0:m.branch_name)||"Unknown Receiving Store"},I=o=>!o||!Array.isArray(o)?0:o.reduce((e,m)=>e+(Number(m.quantity_ordered)||0),0),L=w(()=>y.permissions.can_create),O=w(()=>y.permissions.can_edit);X([p,f,k],()=>{clearTimeout(R),R=setTimeout(()=>{K()},500)});let R;return(o,e)=>{const m=Z("Layout");return i(),c(m,{heading:"Store-to-Store Transfers",hasExcelDownload:!0},{"header-actions":a(()=>[n("div",mt,[L.value?(i(),c(t(x),{key:0,onClick:e[0]||(e[0]=l=>t(_).get(o.route("interco.create")))},{default:a(()=>[s(t(z),{class:"w-4 h-4 mr-2"}),e[4]||(e[4]=r(" New Transfer "))]),_:1})):h("",!0)])]),default:a(()=>[n("div",ct,[(i(!0),b($,null,S(H.value,l=>(i(),c(t(j),{key:l.label},{default:a(()=>[s(t(A),{class:"p-4"},{default:a(()=>[n("div",_t,[n("div",null,[n("p",vt,u(l.label),1),n("p",{class:tt(["text-2xl font-bold",l.color])},u(l.value),3)]),n("div",gt,[s(t(B),{class:"w-4 h-4 text-primary"})])])]),_:2},1024)]),_:2},1024))),128))]),s(t(j),{class:"mb-6"},{default:a(()=>[s(t(E),null,{default:a(()=>[s(t(M),{class:"text-lg"},{default:a(()=>e[5]||(e[5]=[r("Filters")])),_:1})]),_:1}),s(t(A),null,{default:a(()=>[n("div",pt,[n("div",xt,[s(t(dt),{class:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-muted-foreground"}),s(t(et),{modelValue:p.value,"onUpdate:modelValue":e[1]||(e[1]=l=>p.value=l),placeholder:"Search transfers...",class:"pl-10"},null,8,["modelValue"])]),s(t(st),{modelValue:f.value,"onUpdate:modelValue":e[2]||(e[2]=l=>f.value=l)},{default:a(()=>[s(t(at),null,{default:a(()=>[s(t(lt),{placeholder:"All Statuses"})]),_:1}),s(t(nt),null,{default:a(()=>[s(t(P),{value:"all"},{default:a(()=>e[6]||(e[6]=[r("All Statuses")])),_:1}),(i(!0),b($,null,S(d.statusOptions,l=>(i(),c(t(P),{key:l.value,value:l.value},{default:a(()=>[r(u(l.label),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"]),n("div",bt,[s(t(x),{variant:"outline",onClick:Y,disabled:!C.value},{default:a(()=>[s(t(ft),{class:"w-4 h-4 mr-2"}),e[7]||(e[7]=r(" Clear "))]),_:1},8,["disabled"])])])]),_:1})]),_:1}),s(t(j),null,{default:a(()=>[s(t(E),null,{default:a(()=>[s(t(M),null,{default:a(()=>e[8]||(e[8]=[r("Transfers")])),_:1}),n("p",yt," Showing "+u(d.orders.from)+" to "+u(d.orders.to)+" of "+u(d.orders.total)+" transfers ",1)]),_:1}),s(t(A),null,{default:a(()=>[n("div",ht,[s(t(rt),null,{default:a(()=>[s(t(ut),null,{default:a(()=>[s(t(U),null,{default:a(()=>[s(t(v),null,{default:a(()=>e[9]||(e[9]=[r("Transfer #")])),_:1}),s(t(v),null,{default:a(()=>e[10]||(e[10]=[r("From Store")])),_:1}),s(t(v),null,{default:a(()=>e[11]||(e[11]=[r("To Store")])),_:1}),s(t(v),null,{default:a(()=>e[12]||(e[12]=[r("Items")])),_:1}),s(t(v),null,{default:a(()=>e[13]||(e[13]=[r("Quantity")])),_:1}),s(t(v),null,{default:a(()=>e[14]||(e[14]=[r("Status")])),_:1}),s(t(v),null,{default:a(()=>e[15]||(e[15]=[r("Date")])),_:1}),s(t(v),{class:"text-right"},{default:a(()=>e[16]||(e[16]=[r("Actions")])),_:1})]),_:1})]),_:1}),s(t(it),null,{default:a(()=>[(i(!0),b($,null,S(d.orders.data,l=>(i(),c(t(U),{key:l.id},{default:a(()=>[s(t(g),{class:"font-medium"},{default:a(()=>[r(u(l.interco_number),1)]),_:2},1024),s(t(g),null,{default:a(()=>[r(u(F(l)),1)]),_:2},1024),s(t(g),null,{default:a(()=>[r(u(D(l)),1)]),_:2},1024),s(t(g),null,{default:a(()=>[r(u(l.store_order_items?l.store_order_items.length:0),1)]),_:2},1024),s(t(g),null,{default:a(()=>[r(u(I(l.store_order_items)),1)]),_:2},1024),s(t(g),null,{default:a(()=>[s(q,{status:l.interco_status},null,8,["status"])]),_:2},1024),s(t(g),null,{default:a(()=>[r(u(V(l.order_date)),1)]),_:2},1024),s(t(g),{class:"text-right"},{default:a(()=>[n("div",kt,[s(t(x),{variant:"ghost",size:"sm",onClick:T=>t(_).get(o.route("interco.show",l.id))},{default:a(()=>[s(t(Q),{class:"w-4 h-4"})]),_:2},1032,["onClick"]),O.value&&l.interco_status==="open"?(i(),c(t(x),{key:0,variant:"ghost",size:"sm",onClick:T=>t(_).get(o.route("interco.edit",l.id))},{default:a(()=>[s(t(G),{class:"w-4 h-4"})]),_:2},1032,["onClick"])):h("",!0)])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),s(ot,{class:"md:hidden"},{default:a(()=>[(i(!0),b($,null,S(d.orders.data,l=>(i(),b("div",{key:l.id,class:"border-b last:border-b-0 p-4 space-y-3"},[n("div",wt,[n("div",St,[n("span",$t,u(l.interco_number),1),s(q,{status:l.interco_status},null,8,["status"])]),n("div",Ct,[s(t(x),{variant:"ghost",size:"sm",onClick:T=>t(_).get(o.route("interco.show",l.id))},{default:a(()=>[s(t(Q),{class:"w-4 h-4"})]),_:2},1032,["onClick"]),O.value&&l.interco_status==="open"?(i(),c(t(x),{key:0,variant:"ghost",size:"sm",onClick:T=>t(_).get(o.route("interco.edit",l.id))},{default:a(()=>[s(t(G),{class:"w-4 h-4"})]),_:2},1032,["onClick"])):h("",!0)])]),n("div",Tt,[n("div",null,[e[17]||(e[17]=n("span",{class:"text-muted-foreground text-xs"},"From:",-1)),n("div",Nt,u(F(l)),1)]),n("div",null,[e[18]||(e[18]=n("span",{class:"text-muted-foreground text-xs"},"To:",-1)),n("div",jt,u(D(l)),1)])]),n("div",At,[n("div",null,[e[19]||(e[19]=n("span",{class:"text-muted-foreground text-xs"},"Items:",-1)),n("div",Vt,u(l.store_order_items?l.store_order_items.length:0),1)]),n("div",null,[e[20]||(e[20]=n("span",{class:"text-muted-foreground text-xs"},"Quantity:",-1)),n("div",Ft,u(I(l.store_order_items)),1)])]),n("div",Dt,[n("div",null,[e[21]||(e[21]=n("span",{class:"text-muted-foreground text-xs"},"Date:",-1)),n("div",It,u(V(l.order_date)),1)])])]))),128))]),_:1}),d.orders.data.length===0?(i(),b("div",Lt,[s(t(B),{class:"w-12 h-12 mx-auto mb-4 text-muted-foreground"}),e[23]||(e[23]=n("h3",{class:"text-lg font-medium mb-2"},"No transfers found",-1)),n("p",Ot,u(C.value?"Try adjusting your filters":"Get started by creating your first transfer"),1),L.value&&!C.value?(i(),c(t(x),{key:0,onClick:e[3]||(e[3]=l=>t(_).get(o.route("interco.create")))},{default:a(()=>[s(t(z),{class:"w-4 h-4 mr-2"}),e[22]||(e[22]=r(" Create Transfer "))]),_:1})):h("",!0)])):h("",!0),d.orders.data.length>0?(i(),b("div",Rt,e[24]||(e[24]=[n("div",{class:"flex justify-center"},null,-1)]))):h("",!0)]),_:1})]),_:1})]),_:1})}}},Kt=W(zt,[["__scopeId","data-v-cc62b106"]]);export{Kt as default};
