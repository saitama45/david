import{u as D}from"./useSelectOptions-Ci2WUICq.js";import{N as b,r as l,o as m,c as I,w as t,a as e,u as f,i as v,b as o,d as T,e as O,t as i,F as L}from"./app-p8ycGfai.js";import{l as N}from"./lodash-Z9yJD-f9.js";const E={__name:"Index",props:{items:{type:Object,required:!0},filters:{type:Object,required:!0},branches:{type:Object,required:!0}},setup(u){const{options:_}=D(u.branches),s=ref(u.filters.branch||_.value[0].value);let r=ref(u.filters.search);return watch(s,c=>{b.get(route("low-on-stocks.index"),{branch:c,search:r.value,page:1},{preserveScroll:!0,preserveState:!0,replace:!0})}),watch(r,N.throttle(function(c){b.get(route("low-on-stocks.index"),{search:c,branchId:s.value,page:1},{preserveScroll:!0,preserveState:!0,replace:!0})},500)),(c,n)=>{const S=l("Input"),h=l("SearchBar"),g=l("Select"),x=l("DivFlexCenter"),y=l("TableHeader"),d=l("TH"),V=l("TableHead"),p=l("TD"),k=l("TableBody"),w=l("Table"),B=l("Pagination"),C=l("TableContainer"),H=l("Layout");return m(),I(H,{heading:"Low on stock items"},{default:t(()=>[e(y,null,{default:t(()=>[e(h,null,{default:t(()=>[e(S,{class:"pl-10",placeholder:"Search...",modelValue:f(r),"onUpdate:modelValue":n[0]||(n[0]=a=>v(r)?r.value=a:r=a)},null,8,["modelValue"])]),_:1}),e(x,{class:"gap-3"},{default:t(()=>[e(g,{filter:"",class:"min-w-72",placeholder:"Select a Supplier",options:f(_),optionLabel:"label",optionValue:"value",modelValue:f(s),"onUpdate:modelValue":n[1]||(n[1]=a=>v(s)?s.value=a:null)},null,8,["options","modelValue"])]),_:1})]),_:1}),e(C,null,{default:t(()=>[e(w,null,{default:t(()=>[e(V,null,{default:t(()=>[e(d,null,{default:t(()=>n[2]||(n[2]=[o("ID")])),_:1}),e(d,null,{default:t(()=>n[3]||(n[3]=[o("Name")])),_:1}),e(d,null,{default:t(()=>n[4]||(n[4]=[o("Inventory Code")])),_:1}),e(d,null,{default:t(()=>n[5]||(n[5]=[o("Stock On Hand")])),_:1})]),_:1}),e(k,null,{default:t(()=>[(m(!0),T(L,null,O(u.items.data,a=>(m(),T("tr",null,[e(p,null,{default:t(()=>[o(i(a.id),1)]),_:2},1024),e(p,null,{default:t(()=>[o(i(a.product.name),1)]),_:2},1024),e(p,null,{default:t(()=>[o(i(a.product.inventory_code),1)]),_:2},1024),e(p,null,{default:t(()=>[o(i(a.available_stock),1)]),_:2},1024)]))),256))]),_:1})]),_:1}),e(B,{data:u.items},null,8,["data"])]),_:1})]),_:1})}}};export{E as default};
