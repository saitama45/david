import{N as S,r as e,o as l,c as _,w as t,a as n,u as O,i as w,d as u,e as b,b as p,t as c,h as Q,F as y,g as W}from"./app-DPA7xop8.js";import{u as z}from"./useSelectOptions-DqOryH05.js";const G={key:0},P={__name:"Index",props:{mondayOrders:{type:Object,required:!0},tuesdayOrders:{type:Object,required:!0},wednesdayOrders:{type:Object,required:!0},thursdayOrders:{type:Object,required:!0},fridayOrders:{type:Object,required:!0},saturdayOrders:{type:Object,required:!0},datesOption:{type:Object,required:!0},filters:{type:Object,required:!0},branches:{type:Object,required:!0}},setup(a){const g=()=>{var d;return!a.datesOption||!Array.isArray(a.datesOption)||a.datesOption.length<2?null:((d=a.datesOption[1])==null?void 0:d.code)||null},{options:v}=z(a.branches),D=g(),i=ref(a.filters.start_date_filter||D),m=ref(a.filters.branchId||[]),q=[{name:"Monday",orders:a.mondayOrders},{name:"Tuesday",orders:a.tuesdayOrders},{name:"Wednesday",orders:a.wednesdayOrders},{name:"Thursday",orders:a.thursdayOrders},{name:"Friday",orders:a.fridayOrders},{name:"Saturday",orders:a.saturdayOrders}];watch(i,function(d){console.log(d),S.get(route("salmon-orders.index"),{start_date_filter:d,branchId:m.value},{preserveState:!1,replace:!0})}),watch(m,function(d){S.get(route("salmon-orders.index"),{branchId:d,start_date_filter:i.value},{preserveState:!1,replace:!1})});const C=computed(()=>route("salmon-orders.excel",{start_date_filter:i.value,branchId:m.value}));return(d,f)=>{const V=e("MultiSelect"),k=e("Select"),j=e("DivFlexCenter"),B=e("TableHeader"),h=e("SpanBold"),L=e("Label"),T=e("DivFlexCol"),M=e("TH"),H=e("TableHead"),F=e("TD"),N=e("TableBody"),I=e("Table"),x=e("TableContainer"),R=e("MobileTableHeading"),A=e("LabelXS"),E=e("MobileTableRow"),U=e("MobileTableContainer"),X=e("Layout");return l(),_(X,{heading:"Salmon Orders",hasExcelDownload:!0,exportRoute:O(C)},{default:t(()=>[n(x,null,{default:t(()=>[n(B,null,{default:t(()=>[n(j,{class:"gap-3"},{default:t(()=>[n(V,{placeholder:"Select Branch",modelValue:O(m),"onUpdate:modelValue":f[0]||(f[0]=r=>w(m)?m.value=r:null),options:O(v),class:"w-fit min-w-72 max-w-72",optionLabel:"label",optionValue:"value",showClear:"",filter:""},null,8,["modelValue","options"]),n(k,{placeholder:"Select Date",modelValue:O(i),"onUpdate:modelValue":f[1]||(f[1]=r=>w(i)?i.value=r:null),options:a.datesOption,class:"w-fit min-w-72",optionLabel:"name",optionValue:"code"},null,8,["modelValue","options"])]),_:1})]),_:1}),(l(),u(y,null,b(q,r=>n(T,{key:r.name,class:"gap-2"},{default:t(()=>[n(h,null,{default:t(()=>[p(c(r.name),1)]),_:2},1024),r.orders.length<1?(l(),u("h1",G,"No orders to show")):Q("",!0),(l(!0),u(y,null,b(r.orders,o=>(l(),_(x,{key:o.item_code},{default:t(()=>[n(T,null,{default:t(()=>[n(L,null,{default:t(()=>[p(c(o.item)+" ("+c(o.item_code)+")",1)]),_:2},1024),n(h,{class:"text-xs"},{default:t(()=>[p("Total Orders: "+c(o.total_quantity),1)]),_:2},1024)]),_:2},1024),n(I,null,{default:t(()=>[n(H,null,{default:t(()=>[(l(!0),u(y,null,b(o.branches,s=>(l(),_(M,{key:s.display_name},{default:t(()=>[p(c(s.display_name),1)]),_:2},1024))),128))]),_:2},1024),n(N,null,{default:t(()=>[W("tr",null,[(l(!0),u(y,null,b(o.branches,s=>(l(),_(F,{key:s.display_name},{default:t(()=>[p(c(s.quantity_ordered),1)]),_:2},1024))),128))])]),_:2},1024)]),_:2},1024)]),_:2},1024))),128)),(l(!0),u(y,null,b(r.orders,o=>(l(),_(U,{key:o.item_code},{default:t(()=>[(l(!0),u(y,null,b(o.branches,s=>(l(),_(E,{key:s.display_name},{default:t(()=>[n(R,{title:s.display_name},null,8,["title"]),n(A,null,{default:t(()=>[p("Quantity Ordered: "+c(s.quantity_ordered),1)]),_:2},1024)]),_:2},1024))),128))]),_:2},1024))),128))]),_:2},1024)),64))]),_:1})]),_:1},8,["exportRoute"])}}};export{P as default};
