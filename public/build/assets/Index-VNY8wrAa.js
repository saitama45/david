import{f as G,Q as S,N as w,r as o,o as c,c as x,w as e,a as t,n as m,b as n,t as s,u as g,i as Q,d as C,e as k,h as D,F as O}from"./app-rjK1ng7o.js";import{u as K}from"./useToast-DBCD-RTl.js";import{l as W}from"./lodash-DqVvdaAw.js";import{u as Y}from"./useAuth-DN4uYPJg.js";const ne={__name:"Index",props:{orders:{type:Object},counts:{type:Object}},setup(f){G(),K();let _=ref(S().props.filters.currentFilter||"pending"),i=ref(S().props.filters.search);watch(_,function(r){w.get(route("orders-approval.index"),{currentFilter:r,search:i.value},{preserveState:!0,replace:!0})}),watch(i,W.throttle(function(r){w.get(route("orders-approval.index"),{search:r,currentFilter:_.value},{preserveState:!0,replace:!0})},500));const y=r=>{_.value=r},b=r=>_.value==r?"bg-primary text-white":"",F=r=>{switch(console.log(r.toUpperCase()),r.toUpperCase()){case"APPROVED":return"bg-green-500 text-white";case"REJECTED":return"bg-red-400 text-white";case"COMMITED":return"bg-blue-400 text-white";default:return"bg-yellow-500 text-white"}},h=r=>{w.get(route("additional-orders-approval.show",r))},{hasAccess:B}=Y(),N=computed(()=>route("orders-approval.export",{search:i.value,filter:_.value}));return(r,l)=>{const T=o("Badge"),v=o("Button"),A=o("FilterTab"),R=o("Input"),H=o("SearchBar"),M=o("TableHeader"),u=o("TH"),V=o("TableHead"),d=o("TD"),j=o("Eye"),I=o("TableBody"),L=o("Table"),P=o("ShowButton"),U=o("MobileTableHeading"),E=o("LabelXS"),$=o("MobileTableRow"),J=o("MobileTableContainer"),X=o("Pagination"),q=o("TableContainer"),z=o("Layout");return c(),x(z,{heading:"Additional Orders For Approval List",hasExcelDownload:!0,exportRoute:g(N)},{default:e(()=>[t(A,null,{default:e(()=>[t(v,{class:m(["sm:px-10 px-3 bg-white/10 text-gray-800 hover:text-white gap-5 sm:text-sm text-xs",b("pending")]),onClick:l[0]||(l[0]=a=>y("pending"))},{default:e(()=>[l[3]||(l[3]=n("PENDING ")),t(T,{class:m(["sm:flex hidden border border-gray bg-transparent text-gray-900 px-2",b("pending")])},{default:e(()=>[n(s(f.counts.pending),1)]),_:1},8,["class"])]),_:1},8,["class"]),t(v,{class:m(["sm:px-10 px-3 bg-white/10 text-gray-800 hover:text-white gap-5 sm:text-sm text-xs",b("rejected")]),onClick:l[1]||(l[1]=a=>y("rejected"))},{default:e(()=>[l[4]||(l[4]=n("REJECTED ")),t(T,{class:m(["sm:flex hidden border border-gray bg-transparent text-gray-900 px-2",b("rejected")])},{default:e(()=>[n(s(f.counts.rejected),1)]),_:1},8,["class"])]),_:1},8,["class"])]),_:1}),t(q,null,{default:e(()=>[t(M,null,{default:e(()=>[t(H,null,{default:e(()=>[t(R,{class:"pl-10",modelValue:g(i),"onUpdate:modelValue":l[2]||(l[2]=a=>Q(i)?i.value=a:i=a),placeholder:"Order Number Search"},null,8,["modelValue"])]),_:1})]),_:1}),t(L,null,{default:e(()=>[t(V,null,{default:e(()=>[t(u,null,{default:e(()=>l[5]||(l[5]=[n("Id")])),_:1}),t(u,null,{default:e(()=>l[6]||(l[6]=[n("Supplier")])),_:1}),t(u,null,{default:e(()=>l[7]||(l[7]=[n("Store")])),_:1}),t(u,null,{default:e(()=>l[8]||(l[8]=[n("Order #")])),_:1}),t(u,null,{default:e(()=>l[9]||(l[9]=[n("Order Date")])),_:1}),t(u,null,{default:e(()=>l[10]||(l[10]=[n("Order Placed Date")])),_:1}),t(u,null,{default:e(()=>l[11]||(l[11]=[n("Order Status")])),_:1}),t(u,null,{default:e(()=>l[12]||(l[12]=[n("Actions")])),_:1})]),_:1}),t(I,null,{default:e(()=>[(c(!0),C(O,null,k(f.orders.data,a=>(c(),C("tr",{key:a.id},[t(d,null,{default:e(()=>[n(s(a.id),1)]),_:2},1024),t(d,null,{default:e(()=>{var p;return[n(s(((p=a.supplier)==null?void 0:p.name)??"N/A"),1)]}),_:2},1024),t(d,null,{default:e(()=>{var p;return[n(s(((p=a.store_branch)==null?void 0:p.name)??"N/A"),1)]}),_:2},1024),t(d,null,{default:e(()=>[n(s(a.order_number),1)]),_:2},1024),t(d,null,{default:e(()=>[n(s(a.order_date),1)]),_:2},1024),t(d,null,{default:e(()=>[n(s(a.created_at),1)]),_:2},1024),t(d,null,{default:e(()=>[t(T,{class:m([F(a.order_status),"font-bold"])},{default:e(()=>[n(s(a.order_status.toUpperCase()),1)]),_:2},1032,["class"])]),_:2},1024),t(d,{class:"flex"},{default:e(()=>[g(B)("view order for approval")?(c(),x(v,{key:0,onClick:p=>h(a.order_number),variant:"link"},{default:e(()=>[t(j)]),_:2},1032,["onClick"])):D("",!0)]),_:2},1024)]))),128))]),_:1})]),_:1}),t(J,null,{default:e(()=>[(c(!0),C(O,null,k(f.orders.data,a=>(c(),x($,null,{default:e(()=>[t(U,{title:a.order_number},{default:e(()=>[g(B)("view order for approval")?(c(),x(P,{key:0,onClick:p=>h(a.order_number)},null,8,["onClick"])):D("",!0)]),_:2},1032,["title"]),t(E,null,{default:e(()=>[n("Order Status: "+s(a.order_request_status),1)]),_:2},1024),t(E,null,{default:e(()=>[n("Order Date: "+s(a.order_date),1)]),_:2},1024)]),_:2},1024))),256))]),_:1}),t(X,{data:f.orders},null,8,["data"])]),_:1})]),_:1},8,["exportRoute"])}}};export{ne as default};
