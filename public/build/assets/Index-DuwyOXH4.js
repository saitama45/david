import{u as B}from"./useSelectOptions-C8yZk_6t.js";import{Q as j,N as _,r as o,o as b,c as q,w as t,a as e,u as f,i as v,b as a,d as V,e as F,t as m,F as R}from"./app-rjK1ng7o.js";import{l as U}from"./lodash-DqVvdaAw.js";const z={__name:"Index",props:{transactions:{type:Object,required:!0},branches:{type:Object,required:!0},timePeriods:{type:Object,required:!0},filters:{type:Object,required:!0}},setup(i){const{options:S}=B(i.branches);let r=ref(j().props.filters.search);const p=ref(i.filters.branchId||S.value[0].value),{options:T}=B(i.timePeriods),c=ref(i.filters.time_period||T.value[0].value);return watch(p,u=>{_.get(route("sales-report.index"),{search:r.value,branchId:u,time_period:c.value},{preserveState:!0,preserveScroll:!0})}),watch(c,u=>{_.get(route("sales-report.index"),{search:r.value,time_period:u,branchId:p.value},{preserveState:!0,preserveScroll:!0})}),watch(r,U.throttle(function(u){_.get(route("sales-report.index"),{search:u,branchId:p.value,time_period:c.value},{preserveState:!0,replace:!0})},500)),(u,l)=>{const I=o("Input"),x=o("SearchBar"),h=o("Select"),g=o("InputContainer"),y=o("DivFlexCenter"),C=o("TableHeader"),s=o("TH"),w=o("TableHead"),d=o("TD"),O=o("ShowButton"),k=o("TableBody"),D=o("Table"),H=o("Pagination"),L=o("TableContainer"),N=o("BackButton"),P=o("Layout");return b(),q(P,{heading:"Sales Report"},{default:t(()=>[e(L,null,{default:t(()=>[e(C,null,{default:t(()=>[e(x,null,{default:t(()=>[e(I,{class:"pl-10",placeholder:"Search...",modelValue:f(r),"onUpdate:modelValue":l[0]||(l[0]=n=>v(r)?r.value=n:r=n)},null,8,["modelValue"])]),_:1}),e(y,{class:"gap-5"},{default:t(()=>[e(h,{filter:"",placeholder:"Select a Supplier",modelValue:f(p),"onUpdate:modelValue":l[1]||(l[1]=n=>v(p)?p.value=n:null),options:f(S),optionLabel:"label",optionValue:"value"},null,8,["modelValue","options"]),e(g,null,{default:t(()=>[e(h,{modelValue:f(c),"onUpdate:modelValue":l[2]||(l[2]=n=>v(c)?c.value=n:null),filter:"",placeholder:"Time Periods",options:f(T),optionLabel:"label",optionValue:"value"},null,8,["modelValue","options"])]),_:1})]),_:1})]),_:1}),e(D,null,{default:t(()=>[e(w,null,{default:t(()=>[e(s,null,{default:t(()=>l[3]||(l[3]=[a("Id")])),_:1}),e(s,null,{default:t(()=>l[4]||(l[4]=[a("Store Branch")])),_:1}),e(s,null,{default:t(()=>l[5]||(l[5]=[a("Receipt No.")])),_:1}),e(s,null,{default:t(()=>l[6]||(l[6]=[a("Item Count")])),_:1}),e(s,null,{default:t(()=>l[7]||(l[7]=[a("Overall Net Total")])),_:1}),e(s,null,{default:t(()=>l[8]||(l[8]=[a("Date")])),_:1}),e(s,null,{default:t(()=>l[9]||(l[9]=[a("Actions")])),_:1})]),_:1}),e(k,null,{default:t(()=>[(b(!0),V(R,null,F(i.transactions.data,n=>(b(),V("tr",null,[e(d,null,{default:t(()=>[a(m(n.id),1)]),_:2},1024),e(d,null,{default:t(()=>[a(m(n.store_branch),1)]),_:2},1024),e(d,null,{default:t(()=>[a(m(n.receipt_number),1)]),_:2},1024),e(d,null,{default:t(()=>[a(m(n.item_count),1)]),_:2},1024),e(d,null,{default:t(()=>[a(m(n.net_total),1)]),_:2},1024),e(d,null,{default:t(()=>[a(m(n.order_date),1)]),_:2},1024),e(d,{class:"flex items-center"},{default:t(()=>[e(O,{isLink:!0,href:u.route("store-transactions.show",n.id)},null,8,["href"])]),_:2},1024)]))),256))]),_:1})]),_:1}),e(H,{data:i.transactions},null,8,["data"])]),_:1}),e(N)]),_:1})}}};export{z as default};
