import{G as se,T as re,r as n,o as d,c as T,w as o,a as e,u as a,i as v,b as s,d as k,e as S,t as m,F as L,g as c,h as ue}from"./app-Drfr7wPO.js";import{u as ie}from"./useSearch-DbS36i7w.js";import{u as de}from"./useReferenceDelete-Lc4jVcC1.js";import{u as me}from"./useReferenceStore-BuVzO9V4.js";import"./lodash-IPPPM5x9.js";const ce={class:"space-y-5"},pe={class:"flex flex-col space-y-1"},_e={class:"flex flex-col space-y-1"},fe={class:"flex justify-end"},ke={__name:"Index",props:{categories:{type:Object,required:!0}},setup(p){const i=ref(!1),H=se(),y=ref(!1),r=re({name:null,remarks:null}),x=ref(null),N=()=>{r.post(route("inventory-categories.update",x.value),{preserveScroll:!0,onSuccess:()=>{H.add({severity:"success",summary:"Success",detail:"Category Details Updated Successfully.",life:5e3}),r.reset(),i.value=!1}})},E=p,{search:_}=ie("inventory-categories.index"),D=u=>{x.value=u,i.value=!0;const t=E.categories.data.find(f=>f.id===u);r.name=t.name,r.remarks=t.remarks},{isCreateModalVisible:b,openCreateModal:w,store:I}=me();watch(i,u=>{u||(r.reset(),r.clearErrors())});const{deleteModel:U}=de(),F=computed(()=>route("inventory-categories.export",{search:_.value}));return(u,t)=>{const f=n("Input"),$=n("SearchBar"),j=n("TableHeader"),g=n("TH"),P=n("TableHead"),C=n("TD"),V=n("EditButton"),X=n("DeleteButton"),q=n("TableBody"),A=n("Table"),G=n("MobileTableHeading"),O=n("LabelXS"),z=n("MobileTableRow"),J=n("MobileTableContainer"),K=n("Pagination"),Q=n("TableContainer"),W=n("DialogTitle"),Y=n("DialogDescription"),Z=n("DialogHeader"),M=n("Label"),B=n("FormError"),h=n("Textarea"),ee=n("Loading"),te=n("Button"),oe=n("DialogContent"),ne=n("Dialog"),le=n("CreateReferenceModal"),ae=n("Layout");return d(),T(ae,{heading:"Inventory Categories",hasButton:!0,buttonName:"Create New Category",handleClick:a(w),hasExcelDownload:!0,exportRoute:a(F)},{default:o(()=>[e(Q,null,{default:o(()=>[e(j,null,{default:o(()=>[e($,null,{default:o(()=>[e(f,{class:"pl-10",modelValue:a(_),"onUpdate:modelValue":t[0]||(t[0]=l=>v(_)?_.value=l:null),placeholder:"Search..."},null,8,["modelValue"])]),_:1})]),_:1}),e(A,null,{default:o(()=>[e(P,null,{default:o(()=>[e(g,null,{default:o(()=>t[5]||(t[5]=[s(" Id ")])),_:1}),e(g,null,{default:o(()=>t[6]||(t[6]=[s(" Name")])),_:1}),e(g,null,{default:o(()=>t[7]||(t[7]=[s(" Remarks")])),_:1}),e(g,null,{default:o(()=>t[8]||(t[8]=[s(" Actions ")])),_:1})]),_:1}),e(q,null,{default:o(()=>[(d(!0),k(L,null,S(p.categories.data,l=>(d(),k("tr",null,[e(C,null,{default:o(()=>[s(m(l.id),1)]),_:2},1024),e(C,null,{default:o(()=>[s(m(l.name),1)]),_:2},1024),e(C,null,{default:o(()=>[s(m(l.remarks??"N/a"),1)]),_:2},1024),e(C,null,{default:o(()=>[e(V,{onClick:R=>D(l.id)},null,8,["onClick"]),e(X,{onClick:R=>a(U)(u.route("inventory-categories.destroy",l.id),"Menu Category")},null,8,["onClick"])]),_:2},1024)]))),256))]),_:1})]),_:1}),e(J,null,{default:o(()=>[(d(!0),k(L,null,S(p.categories.data,l=>(d(),T(z,null,{default:o(()=>[e(G,{title:l.name},{default:o(()=>[e(V,{onClick:R=>D(l.id)},null,8,["onClick"])]),_:2},1032,["title"]),e(O,null,{default:o(()=>[s("Remarks: "+m(l.remarks??"N/a"),1)]),_:2},1024)]),_:2},1024))),256))]),_:1}),e(K,{data:p.categories},null,8,["data"])]),_:1}),e(ne,{open:a(i),"onUpdate:open":t[3]||(t[3]=l=>v(i)?i.value=l:null)},{default:o(()=>[e(oe,{class:"sm:max-w-[425px]"},{default:o(()=>[e(Z,null,{default:o(()=>[e(W,null,{default:o(()=>t[9]||(t[9]=[s("Edit Category Details")])),_:1}),e(Y,null,{default:o(()=>t[10]||(t[10]=[s(" Input all important fields. ")])),_:1})]),_:1}),c("div",ce,[c("div",pe,[e(M,{class:"text-xs"},{default:o(()=>t[11]||(t[11]=[s("Name")])),_:1}),e(f,{modelValue:a(r).name,"onUpdate:modelValue":t[1]||(t[1]=l=>a(r).name=l)},null,8,["modelValue"]),e(B,null,{default:o(()=>[s(m(a(r).errors.name),1)]),_:1})]),c("div",_e,[e(M,{class:"text-xs"},{default:o(()=>t[12]||(t[12]=[s("Remarks")])),_:1}),e(h,{modelValue:a(r).remarks,"onUpdate:modelValue":t[2]||(t[2]=l=>a(r).remarks=l)},null,8,["modelValue"]),e(B,null,{default:o(()=>[s(m(a(r).errors.remarks),1)]),_:1})]),c("div",fe,[e(te,{onClick:N,class:"gap-2"},{default:o(()=>[t[13]||(t[13]=s(" Save Changes ")),c("span",null,[a(y)?(d(),T(ee,{key:0})):ue("",!0)])]),_:1})])])]),_:1})]),_:1},8,["open"]),e(le,{isCreateModalVisible:a(b),"onUpdate:isCreateModalVisible":t[4]||(t[4]=l=>v(b)?b.value=l:null),title:"Create Menu Category",form:a(r),isLoading:a(y),handleCreate:()=>a(I)(u.route("inventory-categories.store"),a(r),"Inventory Category")},null,8,["isCreateModalVisible","form","isLoading","handleCreate"])]),_:1},8,["handleClick","exportRoute"])}}};export{ke as default};
