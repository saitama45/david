import{f as I,T as D,r,o as L,c as j,w as t,a as l,g as u,u as s,t as m,b as o}from"./app-Bp7xdNcv.js";import{u as B}from"./useToast-BYf4YE8m.js";const T="/build/assets/logo-7hYUCc9J.png",q={class:"flex flex-col gap-5"},H=["src"],M={class:"font-bold text-2xl"},z={class:"text-blue-500 font-bold text-sm"},A={class:"grid grid-cols-2 gap-3"},J={class:"font-bold text-blue-500 text-sm"},O={class:"font-bold text-blue-500 text-sm"},R={class:"text-sm text-gray-800 font-bold"},K={__name:"Index",props:{user:{type:Object,required:!0}},setup(d){const F=I(),{toast:C}=B(),n=D({first_name:d.user.first_name,middle_name:d.user.middle_name,last_name:d.user.last_name,phone_number:d.user.phone_number,email:d.user.email}),i=D({current_password:null,password:null,password_confirmation:null}),E=()=>{F.require({message:"Are you sure you want to update this details?",header:"Confirmation",icon:"pi pi-exclamation-triangle",rejectProps:{label:"Cancel",severity:"secondary",outlined:!0},acceptProps:{label:"Confirm",severity:"info"},accept:()=>{n.post(route("profile.update-details",d.user.id),{onSuccess:()=>{C.add({severity:"success",summary:"Success",detail:"Details Updated Successfully.",life:5e3})},onError:g=>{C.add({severity:"error",summary:"Error",detail:"Can't update details.",life:5e3})}})}})},N=()=>{i.post(route("profile.update-password",d.user.id),{onSuccess:()=>{C.add({severity:"success",summary:"Success",detail:"Password Updated Successfully.",life:5e3}),i.reset()},onError:g=>{C.add({severity:"error",summary:"Error",detail:"Can't update password.",life:5e3})}})};return(g,e)=>{const y=r("DivFlexCol"),S=r("DivFlexCenter"),w=r("CardTitle"),V=r("CardDescription"),b=r("CardHeader"),f=r("Label"),p=r("Input"),_=r("FormError"),x=r("InputContainer"),c=r("CardContent"),U=r("Button"),P=r("CardFooter"),v=r("Card"),k=r("Layout");return L(),j(k,{heading:"My Profile"},{default:t(()=>[l(y,{class:"gap-5"},{default:t(()=>[u("div",q,[l(S,{class:"h-auto gap-10"},{default:t(()=>[u("img",{src:s(T),alt:"logo",class:"sm:flex size-56 rounded-lg shadow-lg hidden"},null,8,H),l(y,{class:"gap-5 h-auto"},{default:t(()=>[u("section",null,[u("h1",M,m(d.user.first_name+" "+d.user.last_name),1),u("p",z,m(d.user.roles.map(a=>a.name.toUpperCase()).join(",")),1)]),l(y,{class:"gap-3"},{default:t(()=>[e[10]||(e[10]=u("span",{class:"text-xs text-gray-800"},"Contact Information",-1)),u("section",A,[e[8]||(e[8]=u("span",{class:"font-bold text-gray-800 text-sm"},"Phone: ",-1)),u("span",J,m(d.user.phone_number),1),e[9]||(e[9]=u("span",{class:"font-bold text-gray-800 text-sm"},"Email: ",-1)),u("span",O,m(d.user.email),1)])]),_:1}),l(y,{class:"gap-3"},{default:t(()=>[e[11]||(e[11]=u("span",{class:"text-xs text-gray-800"},"Remarks",-1)),u("span",R,m(d.user.remarks??"N/a"),1)]),_:1})]),_:1})]),_:1})]),l(v,null,{default:t(()=>[l(b,null,{default:t(()=>[l(w,null,{default:t(()=>e[12]||(e[12]=[o("Edit Profile Details")])),_:1}),l(V,{class:"text-xs"},{default:t(()=>e[13]||(e[13]=[o("Please input all the important information.")])),_:1})]),_:1}),l(c,{class:"grid sm:grid-cols-2 gap-5"},{default:t(()=>[l(x,null,{default:t(()=>[l(f,null,{default:t(()=>e[14]||(e[14]=[o("First Name")])),_:1}),l(p,{modelValue:s(n).first_name,"onUpdate:modelValue":e[0]||(e[0]=a=>s(n).first_name=a)},null,8,["modelValue"]),l(_,null,{default:t(()=>[o(m(s(n).errors.first_name),1)]),_:1})]),_:1}),l(x,null,{default:t(()=>[l(f,null,{default:t(()=>e[15]||(e[15]=[o("Middle Name")])),_:1}),l(p,{modelValue:s(n).middle_name,"onUpdate:modelValue":e[1]||(e[1]=a=>s(n).middle_name=a)},null,8,["modelValue"]),l(_,null,{default:t(()=>[o(m(s(n).errors.middle_name),1)]),_:1})]),_:1}),l(x,null,{default:t(()=>[l(f,null,{default:t(()=>e[16]||(e[16]=[o("Last Name")])),_:1}),l(p,{modelValue:s(n).last_name,"onUpdate:modelValue":e[2]||(e[2]=a=>s(n).last_name=a)},null,8,["modelValue"]),l(_,null,{default:t(()=>[o(m(s(n).errors.last_name),1)]),_:1})]),_:1}),l(x,null,{default:t(()=>[l(f,null,{default:t(()=>e[17]||(e[17]=[o("Phone Number")])),_:1}),l(p,{modelValue:s(n).phone_number,"onUpdate:modelValue":e[3]||(e[3]=a=>s(n).phone_number=a)},null,8,["modelValue"]),l(_,null,{default:t(()=>[o(m(s(n).errors.phone_number),1)]),_:1})]),_:1}),l(x,null,{default:t(()=>[l(f,null,{default:t(()=>e[18]||(e[18]=[o("Email")])),_:1}),l(p,{modelValue:s(n).email,"onUpdate:modelValue":e[4]||(e[4]=a=>s(n).email=a),type:"email"},null,8,["modelValue"]),l(_,null,{default:t(()=>[o(m(s(n).errors.email),1)]),_:1})]),_:1})]),_:1}),l(P,{class:"justify-end gap-3"},{default:t(()=>[l(U,{onClick:E},{default:t(()=>e[19]||(e[19]=[o("Update")])),_:1})]),_:1})]),_:1}),l(v,null,{default:t(()=>[l(b,null,{default:t(()=>[l(w,null,{default:t(()=>e[20]||(e[20]=[o("Update Password")])),_:1}),l(V,{class:"text-xs"},{default:t(()=>e[21]||(e[21]=[o("Please input all the important information.")])),_:1})]),_:1}),l(c,{class:"space-y-4"},{default:t(()=>[l(x,null,{default:t(()=>[l(f,null,{default:t(()=>e[22]||(e[22]=[o("Current Password")])),_:1}),l(p,{type:"password",modelValue:s(i).current_password,"onUpdate:modelValue":e[5]||(e[5]=a=>s(i).current_password=a)},null,8,["modelValue"]),l(_,null,{default:t(()=>[o(m(s(i).errors.current_password),1)]),_:1})]),_:1}),l(x,null,{default:t(()=>[l(f,null,{default:t(()=>e[23]||(e[23]=[o("New Password")])),_:1}),l(p,{type:"password",modelValue:s(i).password,"onUpdate:modelValue":e[6]||(e[6]=a=>s(i).password=a)},null,8,["modelValue"]),l(_,null,{default:t(()=>[o(m(s(i).errors.password),1)]),_:1})]),_:1}),l(x,null,{default:t(()=>[l(f,null,{default:t(()=>e[24]||(e[24]=[o("Confirm Password")])),_:1}),l(p,{type:"password",modelValue:s(i).password_confirmation,"onUpdate:modelValue":e[7]||(e[7]=a=>s(i).password_confirmation=a)},null,8,["modelValue"]),l(_,null,{default:t(()=>[o(m(s(i).errors.password_confirmation),1)]),_:1})]),_:1})]),_:1}),l(P,{class:"justify-end gap-3"},{default:t(()=>[l(U,{onClick:N},{default:t(()=>e[25]||(e[25]=[o("Update")])),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}}};export{K as default};
