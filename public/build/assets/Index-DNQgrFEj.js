import{N as S,r as e,o as r,c as _,w as t,a,u as O,i as w,d as u,e as b,b as p,t as c,h as Q,F as f,g as W}from"./app-Bp7xdNcv.js";import{u as z}from"./useSelectOptions-DNoqVwQ-.js";const G={key:0},P={__name:"Index",props:{mondayOrders:{type:Object,required:!0},tuesdayOrders:{type:Object,required:!0},wednesdayOrders:{type:Object,required:!0},thursdayOrders:{type:Object,required:!0},fridayOrders:{type:Object,required:!0},saturdayOrders:{type:Object,required:!0},datesOption:{type:Object,required:!0},filters:{type:Object,required:!0},branches:{type:Object,required:!0}},setup(n){const v=()=>{var s;return!n.datesOption||!Array.isArray(n.datesOption)||n.datesOption.length<2?null:((s=n.datesOption[1])==null?void 0:s.code)||null},{options:g}=z(n.branches),C=v(),i=ref(n.filters.start_date_filter||C),m=ref(n.filters.branchId||[]),D=[{name:"Monday",orders:n.mondayOrders},{name:"Tuesday",orders:n.tuesdayOrders},{name:"Wednesday",orders:n.wednesdayOrders},{name:"Thursday",orders:n.thursdayOrders},{name:"Friday",orders:n.fridayOrders},{name:"Saturday",orders:n.saturdayOrders}];watch(i,function(s){S.get(route("ice-cream-orders.index"),{start_date_filter:s,branchId:m.value},{preserveState:!1,replace:!1})}),watch(m,function(s){S.get(route("ice-cream-orders.index"),{branchId:s,start_date_filter:i.value},{preserveState:!1,replace:!1})});const q=computed(()=>route("ice-cream-orders.excel",{start_date_filter:i.value,branchId:m.value}));return(s,y)=>{const V=e("MultiSelect"),k=e("Select"),j=e("DivFlexCenter"),B=e("TableHeader"),h=e("SpanBold"),L=e("Label"),T=e("DivFlexCol"),M=e("TH"),H=e("TableHead"),F=e("TD"),I=e("TableBody"),N=e("Table"),x=e("TableContainer"),R=e("MobileTableHeading"),A=e("LabelXS"),E=e("MobileTableRow"),U=e("MobileTableContainer"),X=e("Layout");return r(),_(X,{heading:"Ice Cream Orders",hasExcelDownload:!0,exportRoute:O(q)},{default:t(()=>[a(x,null,{default:t(()=>[a(B,null,{default:t(()=>[a(j,{class:"gap-3"},{default:t(()=>[a(V,{placeholder:"Select Branch",modelValue:O(m),"onUpdate:modelValue":y[0]||(y[0]=l=>w(m)?m.value=l:null),options:O(g),class:"w-fit min-w-72 max-w-72",optionLabel:"label",optionValue:"value",showClear:"",filter:""},null,8,["modelValue","options"]),a(k,{placeholder:"Select Date",modelValue:O(i),"onUpdate:modelValue":y[1]||(y[1]=l=>w(i)?i.value=l:null),options:n.datesOption,class:"w-fit min-w-72",optionLabel:"name",optionValue:"code"},null,8,["modelValue","options"])]),_:1})]),_:1}),(r(),u(f,null,b(D,l=>a(T,{key:l.name,class:"gap-2"},{default:t(()=>[a(h,null,{default:t(()=>[p(c(l.name),1)]),_:2},1024),l.orders.length<1?(r(),u("h1",G,"No orders to show")):Q("",!0),(r(!0),u(f,null,b(l.orders,o=>(r(),_(x,{key:o.item_code},{default:t(()=>[a(T,null,{default:t(()=>[a(L,null,{default:t(()=>[p(c(o.item)+" ("+c(o.item_code)+")",1)]),_:2},1024),a(h,{class:"text-xs"},{default:t(()=>[p("Total Orders: "+c(o.total_quantity),1)]),_:2},1024)]),_:2},1024),a(N,null,{default:t(()=>[a(H,null,{default:t(()=>[(r(!0),u(f,null,b(o.branches,d=>(r(),_(M,{key:d.display_name},{default:t(()=>[p(c(d.display_name),1)]),_:2},1024))),128))]),_:2},1024),a(I,null,{default:t(()=>[W("tr",null,[(r(!0),u(f,null,b(o.branches,d=>(r(),_(F,{key:d.display_name},{default:t(()=>[p(c(d.quantity_ordered),1)]),_:2},1024))),128))])]),_:2},1024)]),_:2},1024)]),_:2},1024))),128)),(r(!0),u(f,null,b(l.orders,o=>(r(),_(U,{key:o.item_code},{default:t(()=>[(r(!0),u(f,null,b(o.branches,d=>(r(),_(E,{key:d.display_name},{default:t(()=>[a(R,{title:d.display_name},null,8,["title"]),a(A,null,{default:t(()=>[p("Quantity Ordered: "+c(d.quantity_ordered),1)]),_:2},1024)]),_:2},1024))),128))]),_:2},1024))),128))]),_:2},1024)),64))]),_:1})]),_:1},8,["exportRoute"])}}};export{P as default};
