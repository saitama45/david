import{u as g}from"./useSelectOptions-DqOryH05.js";import{Q as j,N as _,r as n,o as b,c as q,w as t,a as e,u as m,i as v,b as a,d as V,e as y,t as f,F}from"./app-DPA7xop8.js";import{l as U}from"./lodash-But43GHr.js";const z={__name:"Index",props:{inventories:{type:Object,required:!0},branches:{type:Object,required:!0},timePeriods:{type:Object,required:!0},filters:{type:Object,required:!0}},setup(s){const{options:h}=g(s.branches);let r=ref(j().props.filters.search);const i=ref(s.filters.branchId||h.value[0].value),{options:T}=g(s.timePeriods),d=ref(s.filters.time_period||T.value[0].value);return watch(i,u=>{_.get(route("upcoming-inventories.index"),{search:r.value,branchId:u,time_period:d.value},{preserveState:!0,preserveScroll:!0})}),watch(d,u=>{_.get(route("upcoming-inventories.index"),{search:r.value,time_period:u,branchId:i.value},{preserveState:!0,preserveScroll:!0})}),watch(r,U.throttle(function(u){_.get(route("upcoming-inventories.index"),{search:u,branchId:i.value,time_period:d.value},{preserveState:!0,replace:!0})},500)),(u,l)=>{const x=n("Input"),I=n("SearchBar"),S=n("Select"),C=n("InputContainer"),O=n("DivFlexCenter"),B=n("TableHeader"),p=n("TH"),L=n("TableHead"),w=n("Link"),c=n("TD"),D=n("TableBody"),H=n("Table"),P=n("Pagination"),k=n("TableContainer"),N=n("Layout");return b(),q(N,{heading:"Upcoming Inventories"},{default:t(()=>[e(k,null,{default:t(()=>[e(B,null,{default:t(()=>[e(I,null,{default:t(()=>[e(x,{class:"pl-10",placeholder:"Search...",modelValue:m(r),"onUpdate:modelValue":l[0]||(l[0]=o=>v(r)?r.value=o:r=o)},null,8,["modelValue"])]),_:1}),e(O,{class:"gap-5"},{default:t(()=>[e(S,{filter:"",placeholder:"Select a Supplier",modelValue:m(i),"onUpdate:modelValue":l[1]||(l[1]=o=>v(i)?i.value=o:null),options:m(h),optionLabel:"label",optionValue:"value"},null,8,["modelValue","options"]),e(C,null,{default:t(()=>[e(S,{modelValue:m(d),"onUpdate:modelValue":l[2]||(l[2]=o=>v(d)?d.value=o:null),filter:"",placeholder:"Time Periods",options:m(T),optionLabel:"label",optionValue:"value"},null,8,["modelValue","options"])]),_:1})]),_:1})]),_:1}),e(H,null,{default:t(()=>[e(L,null,{default:t(()=>[e(p,null,{default:t(()=>l[3]||(l[3]=[a("Order Number")])),_:1}),e(p,null,{default:t(()=>l[4]||(l[4]=[a("Branch")])),_:1}),e(p,null,{default:t(()=>l[5]||(l[5]=[a("Supplier")])),_:1}),e(p,null,{default:t(()=>l[6]||(l[6]=[a("Order Date")])),_:1}),e(p,null,{default:t(()=>l[7]||(l[7]=[a("Total Cost")])),_:1})]),_:1}),e(D,null,{default:t(()=>[(b(!0),V(F,null,y(s.inventories.data,o=>(b(),V("tr",null,[e(c,null,{default:t(()=>[e(w,{href:u.route("store-orders.show",o.order_number),class:"text-blue-500 hover:underline"},{default:t(()=>[a(f(o.order_number),1)]),_:2},1032,["href"])]),_:2},1024),e(c,null,{default:t(()=>[a(f(o.branch),1)]),_:2},1024),e(c,null,{default:t(()=>[a(f(o.supplier),1)]),_:2},1024),e(c,null,{default:t(()=>[a(f(o.order_date),1)]),_:2},1024),e(c,null,{default:t(()=>[a(f(o.total),1)]),_:2},1024)]))),256))]),_:1})]),_:1}),e(P,{data:s.inventories},null,8,["data"])]),_:1})]),_:1})}}};export{z as default};
