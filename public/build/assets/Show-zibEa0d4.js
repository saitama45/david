import{G as Oe,f as He,x as S,T as H,y as ze,l as je,r as f,o as d,c as C,w as l,a as e,b as a,t as n,h as U,d as b,e as I,u as r,F as q,g as c,E as Pe,n as Le,m as Qe,b4 as Xe,N as Ge}from"./app-Bw_fMWAP.js";import{d as T}from"./dayjs.min-B4zvIoyj.js";import{u as Je,t as Ke}from"./timezone-BRVd-dIb.js";import{u as We}from"./useBackButton-CVjDC3AL.js";import{X as Ze}from"./x-CdvG2xaQ.js";const he=["onClick"],el=["href"],ll=["src"],tl={class:"space-y-3"},ul={class:"space-y-3"},al={class:"space-y-3"},nl={key:0,class:"mt-2 text-sm"},rl={class:"text-gray-500 text-xs ml-1"},sl=["value"],dl={class:"space-y-3"},ol={class:"space-y-4"},il={key:0,class:"mt-4 max-h-64 overflow-y-auto"},ml=["src"],fl={key:0},vl={key:1},xl={__name:"Show",props:{order:{type:Object,required:!0},orderedItems:{type:Object,required:!0},receiveDatesHistory:{type:Array,required:!0},images:{type:Object,required:!0}},setup(y){T.extend(Je),T.extend(Ke),T.tz.setDefault("Asia/Manila");const x=Oe(),oe=He();We(route("orders-receiving.index"));const ce=[{label:"Damaged goods",value:"Damaged goods"},{label:"Missing goods",value:"Missing goods"},{label:"Expired goods",value:"Expired goods"}],w=y,De=S(w.order.order_status),z=S(!1),Re=()=>{z.value=!0},fe=S(null),ve=S(null),D=H({quantity_received:null,received_date:new Date().toISOString().slice(0,16),expiry_date:null,remarks:null}),N=H({image:null}),Z=S(null),Me=o=>{const t=o.target.files[0];t&&(N.image=t,Z.value=URL.createObjectURL(t))},Se=()=>{N.post(route("orders-receiving.attach-image",w.order.id),{onSuccess:()=>{x.add({severity:"success",summary:"Success",detail:"Image attached successfully.",life:3e3}),z.value=!1,N.reset(),Z.value=null},onError:o=>{const t=Object.values(o)[0];x.add({severity:"error",summary:"Upload Error",detail:t||"Failed to attach image.",life:5e3})}})},g=H({id:null,store_order_id:w.order.id,delivery_receipt_number:null,sap_so_number:null,remarks:null}),we=S(!1);ve.value=w.orderedItems.length>0?w.orderedItems[0]:null;const Ae=o=>{const t=w.orderedItems.findIndex(s=>s.id===o);ve.value=w.orderedItems[t],we.value=!0},j=S(!1),B=S(!1),pe=o=>{fe.value=o,j.value=!0},Ue=()=>{R.value=!0,D.post(route("orders-receiving.receive",fe.value),{onSuccess:()=>{x.add({severity:"success",summary:"Success",detail:"Your receive request has been successfully submitted. Please wait for approval.",life:5e3}),j.value=!1,R.value=!1,D.reset()},onError:o=>{console.log(o),x.add({severity:"error",summary:"Error",detail:"Failed to submit receive request.",life:5e3}),R.value=!1}})},Ve=()=>{R.value=!0,g.id?Fe():g.post(route("orders-receiving.add-delivery-receipt-number"),{onSuccess:()=>{x.add({severity:"success",summary:"Success",detail:"Delivery Receipt Added Successfully.",life:5e3}),B.value=!1,R.value=!1,g.reset()},onError:o=>{console.log(o),x.add({severity:"error",summary:"Error",detail:"Failed to add delivery receipt.",life:5e3}),B.value=!1,R.value=!1}})},Ee=w.order.order_status!=="received",R=S(!1),Y=S(!1),$=S(null);ze(Y,o=>{o||(k.reset(),k.clearErrors(),R.value=!1,$.value=null)});const k=H({id:null,quantity_received:null,remarks:null}),ie=je(()=>{if(!$.value||!k.quantity_received)return 0;const o=$.value.store_order_item.quantity_commited||0;return(parseFloat(k.quantity_received)||0)-o}),_e=o=>{const t=w.receiveDatesHistory,s=t.findIndex(m=>m.id===o),i=t[s];$.value=i,k.id=i.id,k.quantity_received=i.quantity_received,k.remarks=i.remarks,Y.value=!0},Ie=()=>{R.value=!0,k.post(route("orders-receiving.update-receiving-history"),{onSuccess:o=>{x.add({severity:"success",summary:"Success",detail:"Updated Successfully.",life:5e3}),R.value=!1,Y.value=!1},onError:o=>{R.value=!1,x.add({severity:"error",summary:"Error",detail:o.message||"Failed to update receive details.",life:5e3})}})},h=S(!1),A=S(),ye=o=>{const t=w.receiveDatesHistory,s=t.findIndex(m=>m.id===o),i=t[s];A.value=i,h.value=!0},ge=H({id:null}),qe=()=>{oe.require({message:"Are you sure you want to delete this image?",header:"Confirmation",icon:"pi pi-exclamation-triangle",rejectProps:{label:"Cancel",severity:"secondary",outlined:!0},acceptProps:{label:"Remove",severity:"danger"},accept:()=>{ge.post(route("destroy"),{onSuccess:()=>{x.add({severity:"success",summary:"Success",detail:"Image deleted successfully.",life:5e3}),R.value=!1},onError:o=>{R.value=!1,console.log(o),x.add({severity:"error",summary:"Error",detail:o.message||"Failed to delete image.",life:5e3})}})}})},be=(o,t,s,i)=>{g.id=o,g.delivery_receipt_number=t,g.sap_so_number=s,g.remarks=i,B.value=!0},Fe=()=>{g.put(route("orders-receiving.update-delivery-receipt-number",g.id),{onSuccess:()=>{x.add({severity:"success",summary:"Success",detail:"Delivery Receipt Updated Successfully.",life:5e3}),B.value=!1,R.value=!1,g.reset()},onError:o=>{console.log(o),x.add({severity:"error",summary:"Error",detail:"Failed to update delivery receipt.",life:5e3}),R.value=!1}})},xe=o=>{oe.require({message:"Are you sure you want to delete this delivery receipt?",header:"Confirmation",icon:"pi pi-exclamation-triangle",rejectProps:{label:"Cancel",severity:"secondary",outlined:!0},acceptProps:{label:"Remove",severity:"danger"},accept:()=>{Ge.delete(route("orders-receiving.delete-delivery-receipt-number",o),{},{onSuccess:()=>{x.add({severity:"success",summary:"Success",detail:"Delivery Receipt Deleted Successfully.",life:5e3})},onError:t=>{x.add({severity:"error",summary:"Error",detail:t.message||"An error occurred.",life:5e3})}})}})},Te=()=>{H({store_order_id:w.order.id}).put(route("orders-receiving.confirm-receive",w.order.id),{onSuccess:()=>{x.add({severity:"success",summary:"Success",detail:"Action Completed.",life:5e3})},onError:t=>{x.add({severity:"error",summary:"Error",detail:"Error confirming receive: "+(t.message||"An unknown error occurred."),life:5e3})}})},Be=()=>{oe.require({message:"Are you sure you want to confirm all pending received items? This action cannot be undone.",header:"Confirm Receiving",icon:"pi pi-exclamation-triangle",rejectProps:{label:"Cancel",severity:"secondary",outlined:!0},acceptProps:{label:"Confirm",severity:"success"},accept:()=>{Te()}})};return(o,t)=>{const s=f("LabelXS"),i=f("SpanBold"),m=f("InputContainer"),ke=f("Card"),me=f("TableHeader"),v=f("TH"),ee=f("TableHead"),p=f("TD"),le=f("EditButton"),Ce=f("DeleteButton"),O=f("DivFlexCenter"),te=f("TableBody"),ue=f("Table"),ae=f("MobileTableHeading"),ne=f("MobileTableRow"),re=f("MobileTableContainer"),se=f("TableContainer"),de=f("ShowButton"),M=f("Button"),Ne=f("CardTitle"),Ye=f("DivFlexCol"),P=f("DialogTitle"),L=f("DialogDescription"),Q=f("DialogHeader"),V=f("Label"),F=f("Input"),E=f("FormError"),X=f("DialogFooter"),G=f("DialogContent"),J=f("Dialog"),$e=f("Layout");return d(),C($e,{heading:"Order Details"},{default:l(()=>[e(Ye,{class:"gap-3"},{default:l(()=>[e(ke,{class:"p-5 grid sm:grid-cols-4 gap-5"},{default:l(()=>[e(m,null,{default:l(()=>[e(s,null,{default:l(()=>t[20]||(t[20]=[a("Encoder: ")])),_:1}),e(i,null,{default:l(()=>[a(n(y.order.encoder.first_name)+" "+n(y.order.encoder.last_name),1)]),_:1})]),_:1}),e(m,null,{default:l(()=>[e(s,null,{default:l(()=>t[21]||(t[21]=[a("Order Number: ")])),_:1}),e(i,null,{default:l(()=>[a(n(y.order.order_number),1)]),_:1})]),_:1}),e(m,null,{default:l(()=>[e(s,null,{default:l(()=>t[22]||(t[22]=[a("Order Date: ")])),_:1}),e(i,null,{default:l(()=>[a(n(y.order.order_date),1)]),_:1})]),_:1}),e(m,null,{default:l(()=>[e(s,null,{default:l(()=>t[23]||(t[23]=[a("Order Status: ")])),_:1}),e(i,null,{default:l(()=>[a(n(y.order.order_status.toUpperCase()),1)]),_:1})]),_:1}),e(m,null,{default:l(()=>[e(s,null,{default:l(()=>t[24]||(t[24]=[a("Approver: ")])),_:1}),e(i,null,{default:l(()=>{var u,_;return[a(n((u=y.order.approver)==null?void 0:u.first_name)+" "+n((_=y.order.approver)==null?void 0:_.last_name),1)]}),_:1}),y.order.approver?U("",!0):(d(),C(i,{key:0},{default:l(()=>t[25]||(t[25]=[a("N/a")])),_:1}))]),_:1}),e(m,null,{default:l(()=>[e(s,null,{default:l(()=>t[26]||(t[26]=[a("Variant: ")])),_:1}),e(i,null,{default:l(()=>[a(n(y.order.variant.toUpperCase()),1)]),_:1})]),_:1}),e(m,null,{default:l(()=>[e(s,null,{default:l(()=>t[27]||(t[27]=[a("Approval Action Date: ")])),_:1}),e(i,null,{default:l(()=>[a(n(y.order.approval_action_date),1)]),_:1})]),_:1})]),_:1}),e(se,null,{default:l(()=>[e(me,null,{default:l(()=>[e(i,{class:"text-xs"},{default:l(()=>t[28]||(t[28]=[a("Delivery Receipts")])),_:1})]),_:1}),e(ue,null,{default:l(()=>[e(ee,null,{default:l(()=>[e(v,null,{default:l(()=>t[29]||(t[29]=[a("Id")])),_:1}),e(v,null,{default:l(()=>t[30]||(t[30]=[a("Number")])),_:1}),e(v,null,{default:l(()=>t[31]||(t[31]=[a("SAP SO Number")])),_:1}),e(v,null,{default:l(()=>t[32]||(t[32]=[a("Remarks")])),_:1}),e(v,null,{default:l(()=>t[33]||(t[33]=[a("Created at")])),_:1}),e(v,null,{default:l(()=>t[34]||(t[34]=[a("Actions")])),_:1})]),_:1}),e(te,null,{default:l(()=>[(d(!0),b(q,null,I(y.order.delivery_receipts,u=>(d(),b("tr",{key:u.id},[e(p,null,{default:l(()=>[a(n(u.id),1)]),_:2},1024),e(p,null,{default:l(()=>[a(n(u.delivery_receipt_number),1)]),_:2},1024),e(p,null,{default:l(()=>[a(n(u.sap_so_number),1)]),_:2},1024),e(p,null,{default:l(()=>[a(n(u.remarks),1)]),_:2},1024),e(p,null,{default:l(()=>[a(n(r(T).utc(u.created_at).tz("Asia/Manila").format("MMMM D, YYYY h:mm A")),1)]),_:2},1024),e(p,null,{default:l(()=>[e(O,{class:"gap-3"},{default:l(()=>[e(le,{onClick:_=>be(u.id,u.delivery_receipt_number,u.sap_so_number,u.remarks)},null,8,["onClick"]),e(Ce,{onClick:_=>xe(u.id)},null,8,["onClick"])]),_:2},1024)]),_:2},1024)]))),128))]),_:1})]),_:1}),e(re,null,{default:l(()=>[(d(!0),b(q,null,I(y.order.delivery_receipts,u=>(d(),C(ne,{key:u.id},{default:l(()=>[e(ae,{title:`${u.delivery_receipt_number}`},{default:l(()=>[e(le,{onClick:_=>be(u.id,u.delivery_receipt_number,u.sap_so_number,u.remarks)},null,8,["onClick"]),e(Ce,{onClick:_=>xe(u.id)},null,8,["onClick"])]),_:2},1032,["title"]),e(s,null,{default:l(()=>[a("SAP SO Number: "+n(u.sap_so_number??"N/a"),1)]),_:2},1024),e(s,null,{default:l(()=>[a("Remarks: "+n(u.remarks??"N/a"),1)]),_:2},1024),e(s,null,{default:l(()=>[a("Created at: "+n(r(T).utc(u.created_at).tz("Asia/Manila").format("MMMM D, YYYY h:mm A")),1)]),_:2},1024)]),_:2},1024))),128)),y.order.delivery_receipts.length<1?(d(),C(i,{key:0},{default:l(()=>t[35]||(t[35]=[a("None")])),_:1})):U("",!0)]),_:1})]),_:1}),e(se,null,{default:l(()=>[e(me,null,{default:l(()=>[e(i,{class:"text-xs"},{default:l(()=>t[36]||(t[36]=[a("Remarks")])),_:1})]),_:1}),e(ue,null,{default:l(()=>[e(ee,null,{default:l(()=>[e(v,null,{default:l(()=>t[37]||(t[37]=[a(" Id ")])),_:1}),e(v,null,{default:l(()=>t[38]||(t[38]=[a(" Remarks By")])),_:1}),e(v,null,{default:l(()=>t[39]||(t[39]=[a("Action")])),_:1}),e(v,null,{default:l(()=>t[40]||(t[40]=[a("Remarks")])),_:1}),e(v,null,{default:l(()=>t[41]||(t[41]=[a("Created At")])),_:1})]),_:1}),e(te,null,{default:l(()=>[(d(!0),b(q,null,I(y.order.store_order_remarks,u=>(d(),b("tr",{key:u.id},[e(p,null,{default:l(()=>[a(n(u.id),1)]),_:2},1024),e(p,null,{default:l(()=>[a(n(u.user.first_name)+" "+n(u.user.last_name),1)]),_:2},1024),e(p,null,{default:l(()=>[a(n(u.action.toUpperCase()),1)]),_:2},1024),e(p,null,{default:l(()=>[a(n(u.remarks),1)]),_:2},1024),e(p,null,{default:l(()=>[a(n(r(T)(u.created_at).tz("Asia/Manila").format("MMMM D, YYYY h:mm A")),1)]),_:2},1024)]))),128))]),_:1})]),_:1}),e(re,null,{default:l(()=>[(d(!0),b(q,null,I(y.order.store_order_remarks,u=>(d(),C(ne,{key:u.id},{default:l(()=>[e(ae,{title:`${u.action.toUpperCase()}`},{default:l(()=>[e(de)]),_:2},1032,["title"]),e(s,null,{default:l(()=>[a("Remarks: "+n(u.remarks),1)]),_:2},1024),e(s,null,{default:l(()=>[a("Created at: "+n(r(T)(u.created_at).tz("Asia/Manila").format("MMMM D, YYYY h:mm A")),1)]),_:2},1024)]),_:2},1024))),128)),y.order.store_order_remarks.length<1?(d(),C(i,{key:0},{default:l(()=>t[42]||(t[42]=[a("None")])),_:1})):U("",!0)]),_:1})]),_:1}),e(ke,{class:"p-5"},{default:l(()=>[e(m,{class:"col-span-4"},{default:l(()=>[e(s,null,{default:l(()=>t[43]||(t[43]=[a("Image Attachments: ")])),_:1}),e(O,{class:"gap-4 overflow-auto overflow-x-auto scrollbar-thin scrollbar-track-gray-100 scrollbar-thumb-gray-300 hover:scrollbar-thumb-gray-400"},{default:l(()=>[(d(!0),b(q,null,I(y.images,u=>(d(),b("div",{key:u.id,class:"relative"},[c("button",{onClick:_=>{r(ge).id=u.id,qe()},class:"absolute -right-2 -top-2 text-white size-5 rounded-full bg-red-500"},[e(r(Ze),{class:"size-5"})],8,he),c("a",{href:u.image_url,target:"_blank",rel:"noopener noreferrer"},[c("img",{src:u.image_url,class:"size-24 cursor-pointer hover:opacity-80 transition-opacity"},null,8,ll)],8,el)]))),128))]),_:1}),y.images.length<1?(d(),C(i,{key:0},{default:l(()=>t[44]||(t[44]=[a("None")])),_:1})):U("",!0)]),_:1})]),_:1}),e(se,{class:"col-span-2 min-w-fit"},{default:l(()=>[e(O,{class:"justify-between"},{default:l(()=>[e(i,{class:"text-xs"},{default:l(()=>t[45]||(t[45]=[a("Ordered Items")])),_:1}),e(O,{class:"gap-3"},{default:l(()=>[e(M,{class:"text-xs px-2 sm:px-4",onClick:Re},{default:l(()=>t[46]||(t[46]=[a("Attach Image")])),_:1}),e(M,{class:"text-xs px-2 sm:px-4",onClick:t[0]||(t[0]=u=>B.value=!0)},{default:l(()=>t[47]||(t[47]=[a("Add Delivery Number")])),_:1})]),_:1})]),_:1}),e(ue,null,{default:l(()=>[e(ee,null,{default:l(()=>[e(v,null,{default:l(()=>t[48]||(t[48]=[a(" Item Code ")])),_:1}),e(v,null,{default:l(()=>t[49]||(t[49]=[a(" Name ")])),_:1}),e(v,null,{default:l(()=>t[50]||(t[50]=[a("BaseUOM")])),_:1}),e(v,null,{default:l(()=>t[51]||(t[51]=[a("UOM")])),_:1}),e(v,null,{default:l(()=>t[52]||(t[52]=[a(" Ordered ")])),_:1}),e(v,null,{default:l(()=>t[53]||(t[53]=[a("Approved")])),_:1}),e(v,null,{default:l(()=>t[54]||(t[54]=[a(" Commited")])),_:1}),e(v,null,{default:l(()=>t[55]||(t[55]=[a(" Received")])),_:1}),e(v,null,{default:l(()=>t[56]||(t[56]=[a(" Actions ")])),_:1})]),_:1}),e(te,null,{default:l(()=>[(d(!0),b(q,null,I(y.orderedItems,u=>(d(),b("tr",{key:u.id},[e(p,null,{default:l(()=>[a(n(u.supplier_item.ItemCode),1)]),_:2},1024),e(p,null,{default:l(()=>[a(n(u.supplier_item.item_name),1)]),_:2},1024),e(p,null,{default:l(()=>{var _;return[a(n((_=u.supplier_item.sap_master_file)==null?void 0:_.BaseUOM),1)]}),_:2},1024),e(p,{class:"text-xs"},{default:l(()=>[a(n(u.supplier_item.uom),1)]),_:2},1024),e(p,null,{default:l(()=>[a(n(u.quantity_ordered),1)]),_:2},1024),e(p,null,{default:l(()=>[a(n(u.quantity_approved),1)]),_:2},1024),e(p,null,{default:l(()=>[a(n(u.quantity_commited),1)]),_:2},1024),e(p,null,{default:l(()=>[a(n(u.quantity_received),1)]),_:2},1024),e(p,{class:"w-[90px]"},{default:l(()=>[e(O,{class:"gap-1"},{default:l(()=>[e(de,{onClick:_=>Ae(u.id)},{default:l(()=>[e(r(Pe))]),_:2},1032,["onClick"]),De.value==="incomplete"?(d(),C(M,{key:0,onClick:_=>pe(u.id),class:"text-green-500",variant:"link"},{default:l(()=>t[57]||(t[57]=[a(" Receive ")])),_:2},1032,["onClick"])):U("",!0)]),_:2},1024)]),_:2},1024)]))),128))]),_:1})]),_:1}),e(re,null,{default:l(()=>[(d(!0),b(q,null,I(y.orderedItems,u=>(d(),C(ne,{key:u.id},{default:l(()=>[e(ae,{title:`${u.supplier_item.item_name} (${u.supplier_item.ItemCode})`},{default:l(()=>[Ee?(d(),C(M,{key:0,onClick:_=>pe(u.id),class:"text-green-500",variant:"link"},{default:l(()=>t[58]||(t[58]=[a(" Receive ")])),_:2},1032,["onClick"])):U("",!0)]),_:2},1032,["title"]),e(s,null,{default:l(()=>{var _;return[a("BaseUOM: "+n((_=u.supplier_item.sap_master_file)==null?void 0:_.BaseUOM),1)]}),_:2},1024),e(s,null,{default:l(()=>[a("UOM: "+n(u.uom),1)]),_:2},1024),e(s,null,{default:l(()=>[a("Quantity Received: "+n(u.quantity_received),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1}),e(se,null,{default:l(()=>[e(me,null,{default:l(()=>[e(Ne,null,{default:l(()=>t[59]||(t[59]=[a("Receiving History")])),_:1}),y.order.order_status!="received"?(d(),C(M,{key:0,onClick:Be},{default:l(()=>t[60]||(t[60]=[a(" Confirm Receive ")])),_:1})):U("",!0)]),_:1}),e(ue,null,{default:l(()=>[e(ee,null,{default:l(()=>[e(v,null,{default:l(()=>t[61]||(t[61]=[a(" Id ")])),_:1}),e(v,null,{default:l(()=>t[62]||(t[62]=[a(" Item ")])),_:1}),e(v,null,{default:l(()=>t[63]||(t[63]=[a(" Item Code ")])),_:1}),e(v,null,{default:l(()=>t[64]||(t[64]=[a(" Quantity Received")])),_:1}),e(v,null,{default:l(()=>t[65]||(t[65]=[a(" Received At")])),_:1}),e(v,null,{default:l(()=>t[66]||(t[66]=[a(" Status")])),_:1}),e(v,null,{default:l(()=>t[67]||(t[67]=[a("Actions")])),_:1})]),_:1}),e(te,null,{default:l(()=>[(d(!0),b(q,null,I(y.receiveDatesHistory,u=>(d(),b("tr",{key:u.id},[e(p,null,{default:l(()=>[a(n(u.id),1)]),_:2},1024),e(p,null,{default:l(()=>[a(n(u.store_order_item.supplier_item.item_name),1)]),_:2},1024),e(p,null,{default:l(()=>[a(n(u.store_order_item.supplier_item.ItemCode),1)]),_:2},1024),e(p,null,{default:l(()=>[a(n(u.quantity_received),1)]),_:2},1024),e(p,null,{default:l(()=>[a(n(r(T)(u.received_date).tz("Asia/Manila").format("MMMM D, YYYY h:mm A")),1)]),_:2},1024),e(p,null,{default:l(()=>[a(n(u.status),1)]),_:2},1024),e(p,null,{default:l(()=>[e(O,{class:"gap-3"},{default:l(()=>[e(de,{onClick:_=>ye(u.id)},null,8,["onClick"]),u.status==="pending"?(d(),C(le,{key:0,onClick:_=>_e(u.id)},null,8,["onClick"])):U("",!0)]),_:2},1024)]),_:2},1024)]))),128))]),_:1})]),_:1}),e(re,null,{default:l(()=>[(d(!0),b(q,null,I(y.receiveDatesHistory,u=>(d(),C(ne,{key:u.id},{default:l(()=>[e(ae,{title:`${u.store_order_item.supplier_item.item_name} (${u.store_order_item.supplier_item.ItemCode})`},{default:l(()=>[e(de,{class:"size-5 gap mr-0",onClick:_=>ye(u.id)},null,8,["onClick"]),u.status==="pending"?(d(),C(le,{key:0,class:"size-5 gap mr-1",onClick:_=>_e(u.id)},null,8,["onClick"])):U("",!0)]),_:2},1032,["title"]),e(s,null,{default:l(()=>[a("Received: "+n(u.quantity_received),1)]),_:2},1024),e(s,null,{default:l(()=>[a("Status: "+n(u.status.toUpperCase()),1)]),_:2},1024)]),_:2},1024))),128)),y.receiveDatesHistory.length<1?(d(),C(i,{key:0},{default:l(()=>t[68]||(t[68]=[a("None")])),_:1})):U("",!0)]),_:1})]),_:1})]),_:1}),e(J,{open:B.value,"onUpdate:open":t[5]||(t[5]=u=>B.value=u)},{default:l(()=>[e(G,{class:"sm:max-w-[600px]"},{default:l(()=>[e(Q,null,{default:l(()=>[e(P,null,{default:l(()=>t[69]||(t[69]=[a("Delivery Receipt Form")])),_:1}),e(L,null,{default:l(()=>t[70]||(t[70]=[a("Input all the important details")])),_:1})]),_:1}),c("div",tl,[e(m,null,{default:l(()=>[e(V,{class:"text-xs"},{default:l(()=>t[71]||(t[71]=[a("Delivery Receipt Number")])),_:1}),e(F,{modelValue:r(g).delivery_receipt_number,"onUpdate:modelValue":t[1]||(t[1]=u=>r(g).delivery_receipt_number=u)},null,8,["modelValue"]),e(E,null,{default:l(()=>[a(n(r(g).errors.delivery_receipt_number),1)]),_:1})]),_:1}),e(m,null,{default:l(()=>[e(V,{class:"text-xs"},{default:l(()=>t[72]||(t[72]=[a("SAP SO Number")])),_:1}),e(F,{modelValue:r(g).sap_so_number,"onUpdate:modelValue":t[2]||(t[2]=u=>r(g).sap_so_number=u)},null,8,["modelValue"]),e(E,null,{default:l(()=>[a(n(r(g).errors.sap_so_number),1)]),_:1})]),_:1}),e(m,null,{default:l(()=>[e(V,{class:"text-xs"},{default:l(()=>t[73]||(t[73]=[a("Remarks")])),_:1}),e(F,{modelValue:r(g).remarks,"onUpdate:modelValue":t[3]||(t[3]=u=>r(g).remarks=u)},null,8,["modelValue"]),e(E,null,{default:l(()=>[a(n(r(g).errors.remarks),1)]),_:1})]),_:1})]),e(X,null,{default:l(()=>[e(M,{variant:"ghost",onClick:t[4]||(t[4]=u=>B.value=!1)},{default:l(()=>t[74]||(t[74]=[a("Cancel")])),_:1}),e(M,{onClick:Ve},{default:l(()=>t[75]||(t[75]=[a("Submit")])),_:1})]),_:1})]),_:1})]),_:1},8,["open"]),e(J,{open:j.value,"onUpdate:open":t[11]||(t[11]=u=>j.value=u)},{default:l(()=>[e(G,{class:"sm:max-w-[600px]"},{default:l(()=>[e(Q,null,{default:l(()=>[e(P,null,{default:l(()=>t[76]||(t[76]=[a("Receive Form")])),_:1}),e(L,null,{default:l(()=>t[77]||(t[77]=[a("Input all the important details")])),_:1})]),_:1}),c("div",ul,[e(m,null,{default:l(()=>[e(V,{class:"text-xs"},{default:l(()=>t[78]||(t[78]=[a("Quantity Received")])),_:1}),e(F,{modelValue:r(D).quantity_received,"onUpdate:modelValue":t[6]||(t[6]=u=>r(D).quantity_received=u),type:"number"},null,8,["modelValue"]),e(E,null,{default:l(()=>[a(n(r(D).errors.quantity_received),1)]),_:1})]),_:1}),e(m,null,{default:l(()=>[e(V,{class:"text-xs"},{default:l(()=>t[79]||(t[79]=[a("Received Date")])),_:1}),e(F,{modelValue:r(D).received_date,"onUpdate:modelValue":t[7]||(t[7]=u=>r(D).received_date=u),type:"datetime-local"},null,8,["modelValue"]),e(E,null,{default:l(()=>[a(n(r(D).errors.received_date),1)]),_:1})]),_:1}),e(m,null,{default:l(()=>[e(V,{class:"text-xs"},{default:l(()=>t[80]||(t[80]=[a("Expiry Date")])),_:1}),e(F,{modelValue:r(D).expiry_date,"onUpdate:modelValue":t[8]||(t[8]=u=>r(D).expiry_date=u),type:"date"},null,8,["modelValue"]),e(E,null,{default:l(()=>[a(n(r(D).errors.expiry_date),1)]),_:1})]),_:1}),e(m,null,{default:l(()=>[e(V,{class:"text-xs"},{default:l(()=>t[81]||(t[81]=[a("Remarks")])),_:1}),e(F,{modelValue:r(D).remarks,"onUpdate:modelValue":t[9]||(t[9]=u=>r(D).remarks=u)},null,8,["modelValue"]),e(E,null,{default:l(()=>[a(n(r(D).errors.remarks),1)]),_:1})]),_:1})]),e(X,null,{default:l(()=>[e(M,{variant:"ghost",onClick:t[10]||(t[10]=u=>j.value=!1)},{default:l(()=>t[82]||(t[82]=[a("Cancel")])),_:1}),e(M,{onClick:Ue},{default:l(()=>t[83]||(t[83]=[a("Submit")])),_:1})]),_:1})]),_:1})]),_:1},8,["open"]),e(J,{open:Y.value,"onUpdate:open":t[15]||(t[15]=u=>Y.value=u)},{default:l(()=>[e(G,{class:"sm:max-w-[600px]"},{default:l(()=>[e(Q,null,{default:l(()=>[e(P,null,{default:l(()=>t[84]||(t[84]=[a("Edit Receive Details")])),_:1}),e(L,null,{default:l(()=>t[85]||(t[85]=[a("Update the receive information below.")])),_:1})]),_:1}),c("div",al,[e(m,null,{default:l(()=>[e(V,{class:"text-xs"},{default:l(()=>t[86]||(t[86]=[a("Quantity Received")])),_:1}),e(F,{modelValue:r(k).quantity_received,"onUpdate:modelValue":t[12]||(t[12]=u=>r(k).quantity_received=u),type:"number"},null,8,["modelValue"]),e(E,null,{default:l(()=>[a(n(r(k).errors.quantity_received),1)]),_:1}),$.value&&r(k).quantity_received?(d(),b("div",nl,[t[87]||(t[87]=c("span",{class:"font-medium"},"Variance: ",-1)),c("span",{class:Le(ie.value>=0?"text-green-600":"text-red-600")},n(ie.value>=0?"+":"")+n(ie.value),3),c("span",rl," (Committed: "+n($.value.store_order_item.quantity_commited)+") ",1)])):U("",!0)]),_:1}),e(m,null,{default:l(()=>[e(V,{class:"text-xs"},{default:l(()=>t[88]||(t[88]=[a("Remarks")])),_:1}),Qe(c("select",{"onUpdate:modelValue":t[13]||(t[13]=u=>r(k).remarks=u),class:"flex h-10 w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm shadow-sm transition-colors placeholder:text-gray-500 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-gray-400 disabled:cursor-not-allowed disabled:opacity-50"},[t[89]||(t[89]=c("option",{value:"",disabled:""},"Select a remark",-1)),(d(),b(q,null,I(ce,u=>c("option",{key:u.value,value:u.value},n(u.label),9,sl)),64))],512),[[Xe,r(k).remarks]]),e(E,null,{default:l(()=>[a(n(r(k).errors.remarks),1)]),_:1})]),_:1})]),e(X,null,{default:l(()=>[e(M,{variant:"ghost",onClick:t[14]||(t[14]=u=>Y.value=!1)},{default:l(()=>t[90]||(t[90]=[a("Cancel")])),_:1}),e(M,{onClick:Ie},{default:l(()=>t[91]||(t[91]=[a("Update")])),_:1})]),_:1})]),_:1})]),_:1},8,["open"]),e(J,{open:h.value,"onUpdate:open":t[17]||(t[17]=u=>h.value=u)},{default:l(()=>[e(G,{class:"sm:max-w-[600px]"},{default:l(()=>[e(Q,null,{default:l(()=>[e(P,null,{default:l(()=>t[92]||(t[92]=[a("Receive History Details")])),_:1}),e(L,null,{default:l(()=>t[93]||(t[93]=[a("View the details of the received item.")])),_:1})]),_:1}),c("div",dl,[e(m,null,{default:l(()=>[e(s,null,{default:l(()=>t[94]||(t[94]=[a("Item Name:")])),_:1}),e(i,null,{default:l(()=>{var u;return[a(n((u=A.value)==null?void 0:u.store_order_item.supplier_item.item_name),1)]}),_:1})]),_:1}),e(m,null,{default:l(()=>[e(s,null,{default:l(()=>t[95]||(t[95]=[a("Item Code:")])),_:1}),e(i,null,{default:l(()=>{var u;return[a(n((u=A.value)==null?void 0:u.store_order_item.supplier_item.ItemCode),1)]}),_:1})]),_:1}),e(m,null,{default:l(()=>[e(s,null,{default:l(()=>t[96]||(t[96]=[a("Quantity Received:")])),_:1}),e(i,null,{default:l(()=>{var u;return[a(n((u=A.value)==null?void 0:u.quantity_received),1)]}),_:1})]),_:1}),e(m,null,{default:l(()=>[e(s,null,{default:l(()=>t[97]||(t[97]=[a("Received By:")])),_:1}),e(i,null,{default:l(()=>{var u,_,K,W;return[a(n((_=(u=A.value)==null?void 0:u.received_by_user)==null?void 0:_.first_name)+" "+n((W=(K=A.value)==null?void 0:K.received_by_user)==null?void 0:W.last_name),1)]}),_:1})]),_:1}),e(m,null,{default:l(()=>[e(s,null,{default:l(()=>t[98]||(t[98]=[a("Received Date:")])),_:1}),e(i,null,{default:l(()=>{var u;return[a(n(r(T)((u=A.value)==null?void 0:u.received_date).tz("Asia/Manila").format("MMMM D, YYYY h:mm A")),1)]}),_:1})]),_:1}),e(m,null,{default:l(()=>[e(s,null,{default:l(()=>t[99]||(t[99]=[a("Expiry Date:")])),_:1}),e(i,null,{default:l(()=>{var u;return[a(n((u=A.value)==null?void 0:u.expiry_date),1)]}),_:1})]),_:1}),e(m,null,{default:l(()=>[e(s,null,{default:l(()=>t[100]||(t[100]=[a("Remarks:")])),_:1}),e(i,null,{default:l(()=>{var u;return[a(n((u=A.value)==null?void 0:u.remarks),1)]}),_:1})]),_:1}),e(m,null,{default:l(()=>[e(s,null,{default:l(()=>t[101]||(t[101]=[a("Status:")])),_:1}),e(i,null,{default:l(()=>{var u;return[a(n((u=A.value)==null?void 0:u.status),1)]}),_:1})]),_:1}),e(m,null,{default:l(()=>[e(s,null,{default:l(()=>t[102]||(t[102]=[a("Approval Action By:")])),_:1}),e(i,null,{default:l(()=>{var u,_,K,W;return[a(n((_=(u=A.value)==null?void 0:u.approval_action_by_user)==null?void 0:_.first_name)+" "+n((W=(K=A.value)==null?void 0:K.approval_action_by_user)==null?void 0:W.last_name),1)]}),_:1})]),_:1})]),e(X,null,{default:l(()=>[e(M,{variant:"ghost",onClick:t[16]||(t[16]=u=>h.value=!1)},{default:l(()=>t[103]||(t[103]=[a("Close")])),_:1})]),_:1})]),_:1})]),_:1},8,["open"]),e(J,{open:z.value,"onUpdate:open":t[19]||(t[19]=u=>z.value=u)},{default:l(()=>[e(G,{class:"sm:max-w-[600px]"},{default:l(()=>[e(Q,null,{default:l(()=>[e(P,null,{default:l(()=>t[104]||(t[104]=[a("Attach Image")])),_:1}),e(L,null,{default:l(()=>t[105]||(t[105]=[a(" Select an image file to upload for this order. ")])),_:1})]),_:1}),c("div",ol,[e(m,null,{default:l(()=>[e(V,{class:"text-xs"},{default:l(()=>t[106]||(t[106]=[a("Image File")])),_:1}),e(F,{type:"file",onChange:Me,accept:"image/png, image/jpeg, image/jpg",class:"file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"}),e(E,null,{default:l(()=>[a(n(r(N).errors.image),1)]),_:1})]),_:1}),Z.value?(d(),b("div",il,[e(V,{class:"text-xs"},{default:l(()=>t[107]||(t[107]=[a("Preview")])),_:1}),c("img",{src:Z.value,class:"mt-2 max-w-full h-auto rounded-md border object-contain"},null,8,ml)])):U("",!0)]),e(X,null,{default:l(()=>[e(M,{variant:"ghost",onClick:t[18]||(t[18]=u=>z.value=!1)},{default:l(()=>t[108]||(t[108]=[a("Cancel")])),_:1}),e(M,{onClick:Se,disabled:r(N).processing},{default:l(()=>[r(N).processing?(d(),b("span",fl,"Uploading...")):(d(),b("span",vl,"Upload"))]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["open"])]),_:1})}}};export{xl as default};
