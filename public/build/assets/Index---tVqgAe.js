import{u as G}from"./useSearch-CH_uUwZ9.js";import{N as x,r as o,o as m,c as h,w as t,a as e,u as p,i as b,g as q,b as a,d as v,e as O,t as u,F as C}from"./app-Bp7xdNcv.js";import{u as J}from"./useSelectOptions-DNoqVwQ-.js";import"./lodash-KmyjfxIh.js";const K={class:"sm:hidden"},Q={class:"sm:hidden"},ne={__name:"Index",props:{items:{type:Object,required:!0},datesOption:{type:Object,required:!0},filters:{type:Object,required:!0},branches:{type:Object,rquired:!0}},setup(d){const{search:y}=G("fruits-and-vegetables.index"),{options:g}=J(d.branches),D=(()=>{var s;return!d.datesOption||!Array.isArray(d.datesOption)||d.datesOption.length<2?null:((s=d.datesOption[1])==null?void 0:s.code)||null})(),r=ref(d.filters.start_date_filter||D),c=ref(d.filters.branchId||[]);watch(r,function(s){console.log(s),x.get(route("fruits-and-vegetables.index"),{start_date_filter:s},{preserveState:!1,replace:!0})}),watch(c,s=>{console.log(s),x.get(route("fruits-and-vegetables.index"),{branchId:s,start_date_filter:r.value},{preserveState:!1,replace:!0})});const B=computed(()=>route("fruits-and-vegetables.export",{start_date_filter:r.value,branchId:c.value}));return(s,n)=>{const F=o("Input"),L=o("SearchBar"),M=o("Filter"),H=o("PopoverTrigger"),T=o("MultiSelect"),I=o("DivFlexCol"),P=o("PopoverContent"),N=o("Popover"),w=o("DivFlexCenter"),S=o("Select"),A=o("TableHeader"),i=o("TH"),R=o("TableHead"),f=o("TD"),V=o("ShowButton"),k=o("TableBody"),U=o("Table"),j=o("MobileTableHeading"),_=o("LabelXS"),$=o("MobileTableRow"),E=o("MobileTableContainer"),W=o("Pagination"),X=o("TableContainer"),z=o("Layout");return m(),h(z,{heading:"Fruits And Vegetables Orders",hasExcelDownload:!0,exportRoute:p(B)},{default:t(()=>[e(X,null,{default:t(()=>[e(A,{class:"gap-3 sm:flex-row flex-col"},{default:t(()=>[e(w,{class:"gap-5 w-full"},{default:t(()=>[e(L,null,{default:t(()=>[e(F,{class:"pl-10",modelValue:p(y),"onUpdate:modelValue":n[0]||(n[0]=l=>b(y)?y.value=l:null),placeholder:"Search..."},null,8,["modelValue"])]),_:1}),q("section",K,[e(N,{class:"w-fit"},{default:t(()=>[e(H,null,{default:t(()=>[e(M)]),_:1}),e(P,null,{default:t(()=>[e(I,{class:"gap-3"},{default:t(()=>[e(T,{filter:"",showClear:"",optionLabel:"label",optionValue:"value",options:p(g),placeholder:"Select a Branch",modelValue:p(c),"onUpdate:modelValue":n[1]||(n[1]=l=>b(c)?c.value=l:null)},null,8,["options","modelValue"])]),_:1})]),_:1})]),_:1})])]),_:1}),q("section",Q,[e(S,{modelValue:p(r),"onUpdate:modelValue":n[2]||(n[2]=l=>b(r)?r.value=l:null),options:d.datesOption,placeholder:"No Available Options",class:"min-w-fit w-fit",optionLabel:"name",optionValue:"code"},null,8,["modelValue","options"])]),e(w,{class:"sm:flex hidden gap-3"},{default:t(()=>[e(T,{showClear:"",filter:"",optionLabel:"label",optionValue:"value",options:p(g),class:"max-w-72",placeholder:"Select a Branch",modelValue:p(c),"onUpdate:modelValue":n[3]||(n[3]=l=>b(c)?c.value=l:null)},null,8,["options","modelValue"]),e(S,{modelValue:p(r),"onUpdate:modelValue":n[4]||(n[4]=l=>b(r)?r.value=l:null),options:d.datesOption,placeholder:"No Available Options",class:"max-w-72 w-fit",optionLabel:"name",optionValue:"code"},null,8,["modelValue","options"])]),_:1})]),_:1}),e(U,null,{default:t(()=>[e(R,null,{default:t(()=>[e(i,null,{default:t(()=>n[5]||(n[5]=[a("Code")])),_:1}),e(i,null,{default:t(()=>n[6]||(n[6]=[a("Item")])),_:1}),e(i,null,{default:t(()=>n[7]||(n[7]=[a("Monday")])),_:1}),e(i,null,{default:t(()=>n[8]||(n[8]=[a("Tuesday")])),_:1}),e(i,null,{default:t(()=>n[9]||(n[9]=[a("Wednesday")])),_:1}),e(i,null,{default:t(()=>n[10]||(n[10]=[a("Thursday")])),_:1}),e(i,null,{default:t(()=>n[11]||(n[11]=[a("Friday")])),_:1}),e(i,null,{default:t(()=>n[12]||(n[12]=[a("Saturday")])),_:1}),e(i,null,{default:t(()=>n[13]||(n[13]=[a("Actions")])),_:1})]),_:1}),e(k,null,{default:t(()=>[(m(!0),v(C,null,O(d.items.data,l=>(m(),v("tr",null,[e(f,null,{default:t(()=>[a(u(l.inventory_code),1)]),_:2},1024),e(f,null,{default:t(()=>[a(u(l.name),1)]),_:2},1024),e(f,null,{default:t(()=>[a(u(l.quantity_ordered.monday),1)]),_:2},1024),e(f,null,{default:t(()=>[a(u(l.quantity_ordered.tuesday),1)]),_:2},1024),e(f,null,{default:t(()=>[a(u(l.quantity_ordered.wednesday),1)]),_:2},1024),e(f,null,{default:t(()=>[a(u(l.quantity_ordered.thursday),1)]),_:2},1024),e(f,null,{default:t(()=>[a(u(l.quantity_ordered.friday),1)]),_:2},1024),e(f,null,{default:t(()=>[a(u(l.quantity_ordered.saturday),1)]),_:2},1024),e(f,null,{default:t(()=>[e(V,{isLink:!0,href:`/fruits-and-vegetables/show/${l.inventory_code}`},null,8,["href"])]),_:2},1024)]))),256))]),_:1})]),_:1}),e(E,null,{default:t(()=>[(m(!0),v(C,null,O(d.items.data,l=>(m(),h($,null,{default:t(()=>[e(j,{title:`${l.name} (${l.inventory_code})`},{default:t(()=>[e(V,{isLink:!0,href:`/fruits-and-vegetables/show/${l.inventory_code}`},null,8,["href"])]),_:2},1032,["title"]),e(_,null,{default:t(()=>[a("Monday: "+u(l.quantity_ordered.monday),1)]),_:2},1024),e(_,null,{default:t(()=>[a("Tuesday: "+u(l.quantity_ordered.tuesday),1)]),_:2},1024),e(_,null,{default:t(()=>[a("Wednesday: "+u(l.quantity_ordered.wednesday),1)]),_:2},1024),e(_,null,{default:t(()=>[a("Thursday: "+u(l.quantity_ordered.thursday),1)]),_:2},1024),e(_,null,{default:t(()=>[a("Friday: "+u(l.quantity_ordered.friday),1)]),_:2},1024),e(_,null,{default:t(()=>[a("Saturday: "+u(l.quantity_ordered.saturday),1)]),_:2},1024)]),_:2},1024))),256))]),_:1}),e(W,{data:d.items},null,8,["data"])]),_:1})]),_:1},8,["exportRoute"])}}};export{ne as default};
