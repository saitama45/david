import{G as se,T as re,r as l,o as i,c as T,w as o,a as e,u as a,i as k,b as s,d as x,e as S,t as c,F as L,g as m,h as ue}from"./app-Bw_fMWAP.js";import{u as de}from"./useSearch-Cd1k-Yv4.js";import{u as ie}from"./useReferenceDelete-DwjgMHj7.js";import{u as ce}from"./useReferenceStore-BW-sfchK.js";import"./lodash-Cj3gZpb5.js";const me={class:"space-y-5"},pe={class:"flex flex-col space-y-1"},_e={class:"flex flex-col space-y-1"},fe={class:"flex justify-end"},xe={__name:"Index",props:{costCenters:{type:Object,required:!0}},setup(p){const d=ref(!1),H=se(),D=ref(!1),r=re({name:null,remarks:null}),v=ref(null),N=()=>{r.post(route("cost-centers.update",v.value),{preserveScroll:!0,onSuccess:()=>{H.add({severity:"success",summary:"Success",detail:"Cost Center Details Updated Successfully.",life:5e3}),r.reset(),d.value=!1}})},E=p,{search:_}=de("cost-centers.index"),V=u=>{v.value=u,d.value=!0;const t=E.costCenters.data.find(f=>f.id===u);r.name=t.name,r.remarks=t.remarks},{isCreateModalVisible:g,openCreateModal:w,store:I}=ce();watch(d,u=>{u||(r.reset(),r.clearErrors())});const U=computed(()=>route("cost-centers.export",{search:_.value})),{deleteModel:F}=ie();return(u,t)=>{const f=l("Input"),$=l("SearchBar"),j=l("TableHeader"),C=l("TH"),P=l("TableHead"),b=l("TD"),y=l("EditButton"),X=l("DeleteButton"),q=l("TableBody"),A=l("Table"),G=l("MobileTableHeading"),O=l("LabelXS"),z=l("MobileTableRow"),J=l("MobileTableContainer"),K=l("Pagination"),Q=l("TableContainer"),W=l("DialogTitle"),Y=l("DialogDescription"),Z=l("DialogHeader"),B=l("Label"),M=l("FormError"),h=l("Textarea"),ee=l("Loading"),te=l("Button"),oe=l("DialogContent"),le=l("Dialog"),ne=l("CreateReferenceModal"),ae=l("Layout");return i(),T(ae,{heading:"Cost Centers",hasButton:!0,handleClick:a(w),buttonName:"Create New Cost Center",hasExcelDownload:!0,exportRoute:a(U)},{default:o(()=>[e(Q,null,{default:o(()=>[e(j,null,{default:o(()=>[e($,null,{default:o(()=>[e(f,{class:"pl-10",modelValue:a(_),"onUpdate:modelValue":t[0]||(t[0]=n=>k(_)?_.value=n:null),placeholder:"Search..."},null,8,["modelValue"])]),_:1})]),_:1}),e(A,null,{default:o(()=>[e(P,null,{default:o(()=>[e(C,null,{default:o(()=>t[5]||(t[5]=[s(" Id ")])),_:1}),e(C,null,{default:o(()=>t[6]||(t[6]=[s(" Name")])),_:1}),e(C,null,{default:o(()=>t[7]||(t[7]=[s(" Remarks")])),_:1}),e(C,null,{default:o(()=>t[8]||(t[8]=[s(" Actions ")])),_:1})]),_:1}),e(q,null,{default:o(()=>[(i(!0),x(L,null,S(p.costCenters.data,n=>(i(),x("tr",null,[e(b,null,{default:o(()=>[s(c(n.id),1)]),_:2},1024),e(b,null,{default:o(()=>[s(c(n.name),1)]),_:2},1024),e(b,null,{default:o(()=>[s(c(n.remarks??"N/a"),1)]),_:2},1024),e(b,null,{default:o(()=>[e(y,{onClick:R=>V(n.id)},null,8,["onClick"]),e(X,{onClick:R=>a(F)(u.route("cost-centers.destroy",n.id),"Cost Center")},null,8,["onClick"])]),_:2},1024)]))),256))]),_:1})]),_:1}),e(J,null,{default:o(()=>[(i(!0),x(L,null,S(p.costCenters.data,n=>(i(),T(z,null,{default:o(()=>[e(G,{title:n.name},{default:o(()=>[e(y,{onClick:R=>V(n.id)},null,8,["onClick"])]),_:2},1032,["title"]),e(O,null,{default:o(()=>[s("Remarks: "+c(n.remarks??"N/a"),1)]),_:2},1024)]),_:2},1024))),256))]),_:1}),e(K,{data:p.costCenters},null,8,["data"])]),_:1}),e(le,{open:a(d),"onUpdate:open":t[3]||(t[3]=n=>k(d)?d.value=n:null)},{default:o(()=>[e(oe,{class:"sm:max-w-[425px]"},{default:o(()=>[e(Z,null,{default:o(()=>[e(W,null,{default:o(()=>t[9]||(t[9]=[s("Edit Category Details")])),_:1}),e(Y,null,{default:o(()=>t[10]||(t[10]=[s(" Input all important fields. ")])),_:1})]),_:1}),m("div",me,[m("div",pe,[e(B,{class:"text-xs"},{default:o(()=>t[11]||(t[11]=[s("Name")])),_:1}),e(f,{modelValue:a(r).name,"onUpdate:modelValue":t[1]||(t[1]=n=>a(r).name=n)},null,8,["modelValue"]),e(M,null,{default:o(()=>[s(c(a(r).errors.name),1)]),_:1})]),m("div",_e,[e(B,{class:"text-xs"},{default:o(()=>t[12]||(t[12]=[s("Remarks")])),_:1}),e(h,{modelValue:a(r).remarks,"onUpdate:modelValue":t[2]||(t[2]=n=>a(r).remarks=n)},null,8,["modelValue"]),e(M,null,{default:o(()=>[s(c(a(r).errors.remarks),1)]),_:1})]),m("div",fe,[e(te,{onClick:N,class:"gap-2"},{default:o(()=>[t[13]||(t[13]=s(" Save Changes ")),m("span",null,[a(D)?(i(),T(ee,{key:0})):ue("",!0)])]),_:1})])])]),_:1})]),_:1},8,["open"]),e(ne,{isCreateModalVisible:a(g),"onUpdate:isCreateModalVisible":t[4]||(t[4]=n=>k(g)?g.value=n:null),title:"Create Cost Center",form:a(r),isLoading:a(D),handleCreate:()=>a(I)(u.route("cost-centers.store"),a(r),"Cost Center")},null,8,["isCreateModalVisible","form","isLoading","handleCreate"])]),_:1},8,["handleClick","exportRoute"])}}};export{xe as default};
