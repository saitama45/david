import{f as o,T as d}from"./app-DPA7xop8.js";import{u as y}from"./useToast-CL68v_82.js";function p(i,u=null,s=null){o();const{toast:r}=y(),n=ref(!1),t=d({id:null,quantity:0});return{isEditQuantityModalOpen:n,formQuantity:t,openEditQuantityModal:(e,a)=>{t.id=e,t.quantity=a,n.value=!0},editQuantity:()=>{if(i.variant&&i.variant==="ice cream"&&t.quantity<5){t.setError("quantity","Quantity should be at least 5");return}if(t.quantity<.1){t.setError("quantity","Quantity should be more than 0");return}const e=i.orders.findIndex(a=>a.id===t.id);i.orders[e].quantity=t.quantity,i.orders[e].total_cost=parseFloat(i.orders[e].quantity*i.orders[e].cost).toFixed(2),r.add({severity:"success",summary:"Success",detail:"Quantity Updated",life:3e3}),t.reset(),t.clearErrors(),n.value=!1},editOrderQuantity:()=>{if(s.variant&&s.variant==="ice cream"&&t.quantity<5){t.setError("quantity","Quantity should be at least 5");return}if(t.quantity<0){t.setError("quantity","Quantity should be more than or equals to 0");return}const e=u.value.findIndex(a=>a.id==t.id);if(e!==-1){const a=u.value[e];a.quantity_approved=t.quantity,a.total_cost=parseFloat(a.item_cost*a.quantity_approved).toFixed(2)}r.add({severity:"success",summary:"Success",detail:"Quantity Updated",life:3e3}),t.reset(),t.clearErrors(),n.value=!1}}}export{p as u};
