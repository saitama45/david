import{u as V}from"./useSelectOptions-Ci2WUICq.js";import{Q as j,N as _,r as o,o as b,c as F,w as t,a as e,u as f,i as v,b as a,d as g,e as O,t as d,F as U}from"./app-p8ycGfai.js";import{l as k}from"./lodash-Z9yJD-f9.js";const z={__name:"Index",props:{costOfGoods:{type:Object,required:!0},branches:{type:Object,required:!0},timePeriods:{type:Object,required:!0},filters:{type:Object,required:!0}},setup(i){const{options:T}=V(i.branches);let u=ref(j().props.filters.search);const p=ref(i.filters.branchId||T.value[0].value),{options:C}=V(i.timePeriods),c=ref(i.filters.time_period||C.value[0].value);return watch(p,m=>{_.get(route("cost-of-goods.index"),{search:u.value,branchId:m,time_period:c.value},{preserveState:!0,preserveScroll:!0})}),watch(c,m=>{_.get(route("cost-of-goods.index"),{search:u.value,time_period:m,branchId:p.value},{preserveState:!0,preserveScroll:!0})}),watch(u,k.throttle(function(m){_.get(route("cost-of-goods.index"),{search:m,branchId:p.value,time_period:c.value},{preserveState:!0,replace:!0})},500)),(m,l)=>{const I=o("Input"),x=o("SearchBar"),S=o("Select"),h=o("InputContainer"),B=o("DivFlexCenter"),D=o("TableHeader"),r=o("TH"),H=o("TableHead"),s=o("TD"),P=o("TableBody"),q=o("Table"),w=o("Pagination"),L=o("TableContainer"),N=o("Layout");return b(),F(N,{heading:"Cost of Goods"},{default:t(()=>[e(L,null,{default:t(()=>[e(D,null,{default:t(()=>[e(x,null,{default:t(()=>[e(I,{class:"pl-10",placeholder:"Search...",modelValue:f(u),"onUpdate:modelValue":l[0]||(l[0]=n=>v(u)?u.value=n:u=n)},null,8,["modelValue"])]),_:1}),e(B,{class:"gap-5"},{default:t(()=>[e(S,{filter:"",placeholder:"Select a Supplier",modelValue:f(p),"onUpdate:modelValue":l[1]||(l[1]=n=>v(p)?p.value=n:null),options:f(T),optionLabel:"label",optionValue:"value"},null,8,["modelValue","options"]),e(h,null,{default:t(()=>[e(S,{modelValue:f(c),"onUpdate:modelValue":l[2]||(l[2]=n=>v(c)?c.value=n:null),filter:"",placeholder:"Time Periods",options:f(C),optionLabel:"label",optionValue:"value"},null,8,["modelValue","options"])]),_:1})]),_:1})]),_:1}),e(q,null,{default:t(()=>[e(H,null,{default:t(()=>[e(r,null,{default:t(()=>l[3]||(l[3]=[a("Item")])),_:1}),e(r,null,{default:t(()=>l[4]||(l[4]=[a("Inventory Code")])),_:1}),e(r,null,{default:t(()=>l[5]||(l[5]=[a("Quantity")])),_:1}),e(r,null,{default:t(()=>l[6]||(l[6]=[a("Cost Center")])),_:1}),e(r,null,{default:t(()=>l[7]||(l[7]=[a("Unit Cost")])),_:1}),e(r,null,{default:t(()=>l[8]||(l[8]=[a("Total Cost")])),_:1}),e(r,null,{default:t(()=>l[9]||(l[9]=[a("Transaction Date")])),_:1})]),_:1}),e(P,null,{default:t(()=>[(b(!0),g(U,null,O(i.costOfGoods.data,n=>(b(),g("tr",null,[e(s,null,{default:t(()=>[a(d(n.product.name),1)]),_:2},1024),e(s,null,{default:t(()=>[a(d(n.product.inventory_code),1)]),_:2},1024),e(s,null,{default:t(()=>[a(d(n.quantity),1)]),_:2},1024),e(s,null,{default:t(()=>{var y;return[a(d(((y=n.cost_center)==null?void 0:y.name)??"N/a"),1)]}),_:2},1024),e(s,null,{default:t(()=>[a(d(n.unit_cost),1)]),_:2},1024),e(s,null,{default:t(()=>[a(d(n.total_cost),1)]),_:2},1024),e(s,null,{default:t(()=>[a(d(n.transaction_date),1)]),_:2},1024)]))),256))]),_:1})]),_:1}),e(w,{data:i.costOfGoods},null,8,["data"])]),_:1})]),_:1})}}};export{z as default};
